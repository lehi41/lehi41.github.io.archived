(self.webpackChunklehi41=self.webpackChunklehi41||[]).push([[204],{3204:(Je,De,V)=>{"use strict";V.r(De),V.d(De,{AppointmentsModule:()=>pa});var ie=V(8583),ne=V(5972),J=V(6215);const ee={"X-Client-Info":"supabase-js/1.24.0"};var Lr=V(5630),st=V.n(Lr),We=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};const cr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n);function Ae(n,e,t,r){return We(this,void 0,void 0,function*(){return new Promise((a,c)=>{st()(e,((n,e,t)=>{const r={method:n,headers:(null==e?void 0:e.headers)||{}};return"GET"===n||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==e?void 0:e.headers),r.body=JSON.stringify(t)),r})(n,t,r)).then(h=>{if(!h.ok)throw h;return(null==t?void 0:t.noResolveJson)?a:h.json()}).then(h=>a(h)).catch(h=>((n,e)=>{if("function"!=typeof n.json)return e(n);n.json().then(t=>e({message:cr(t),status:(null==n?void 0:n.status)||500}))})(h,c))})})}function Ce(n,e,t){return We(this,void 0,void 0,function*(){return Ae("POST",n,t,e)})}const ve="supabase.auth.token",xt={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function k(n,e,t){const r=t.map(c=>function(n,e){var t,r,a;return function(n,e,t){const r=t||{},a=encodeURIComponent,c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!c.test(n))throw new TypeError("argument name is invalid");const h=a(e);if(h&&!c.test(h))throw new TypeError("argument val is invalid");let d=n+"="+h;if(null!=r.maxAge){const p=r.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(p)}if(r.domain){if(!c.test(r.domain))throw new TypeError("option domain is invalid");d+="; Domain="+r.domain}if(r.path){if(!c.test(r.path))throw new TypeError("option path is invalid");d+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");d+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(d+="; HttpOnly"),r.secure&&(d+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return d}(n.name,n.value,{maxAge:n.maxAge,expires:new Date(Date.now()+1e3*n.maxAge),httpOnly:!0,secure:e,path:null!==(t=n.path)&&void 0!==t?t:"/",domain:null!==(r=n.domain)&&void 0!==r?r:"",sameSite:null!==(a=n.sameSite)&&void 0!==a?a:"lax"})}(c,function(n){if(!n||!n.headers||!n.headers.host)throw new Error('The "host" request header is not available');const e=n.headers.host.indexOf(":")>-1&&n.headers.host.split(":")[0]||n.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}(n))),a=e.getHeader("Set-Cookie");a&&(a instanceof Array?Array.prototype.push.apply(r,a):"string"==typeof a&&r.push(a)),e.setHeader("Set-Cookie",r)}function I(n,e,t){k(n,e,[t])}function se(n){return Math.round(Date.now()/1e3)+n}const W=()=>"undefined"!=typeof window;function _e(n,e){e||(e=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}var ae=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};class dt{constructor({url:e="",headers:t={},cookieOptions:r}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},xt),r)}signUpWithEmail(e,t,r={}){return ae(this,void 0,void 0,function*(){try{let a=Object.assign({},this.headers),c="";r.redirectTo&&(c="?redirect_to="+encodeURIComponent(r.redirectTo));const h=yield Ce(`${this.url}/signup${c}`,{email:e,password:t,data:r.data},{headers:a});let d=Object.assign({},h);return d.expires_in&&(d.expires_at=se(h.expires_in)),{data:d,error:null}}catch(a){return{data:null,error:a}}})}signInWithEmail(e,t,r={}){return ae(this,void 0,void 0,function*(){try{let a=Object.assign({},this.headers),c="?grant_type=password";r.redirectTo&&(c+="&redirect_to="+encodeURIComponent(r.redirectTo));const h=yield Ce(`${this.url}/token${c}`,{email:e,password:t},{headers:a});let d=Object.assign({},h);return d.expires_in&&(d.expires_at=se(h.expires_in)),{data:d,error:null}}catch(a){return{data:null,error:a}}})}signUpWithPhone(e,t,r={}){return ae(this,void 0,void 0,function*(){try{let a=Object.assign({},this.headers);const c=yield Ce(`${this.url}/signup`,{phone:e,password:t,data:r.data},{headers:a});let h=Object.assign({},c);return h.expires_in&&(h.expires_at=se(c.expires_in)),{data:h,error:null}}catch(a){return{data:null,error:a}}})}signInWithPhone(e,t){return ae(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),a="?grant_type=password";const c=yield Ce(`${this.url}/token${a}`,{phone:e,password:t},{headers:r});let h=Object.assign({},c);return h.expires_in&&(h.expires_at=se(c.expires_in)),{data:h,error:null}}catch(r){return{data:null,error:r}}})}sendMagicLinkEmail(e,t={}){return ae(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),a="";return t.redirectTo&&(a+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Ce(`${this.url}/magiclink${a}`,{email:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}sendMobileOTP(e){return ae(this,void 0,void 0,function*(){try{let t=Object.assign({},this.headers);return{data:yield Ce(`${this.url}/otp`,{phone:e},{headers:t}),error:null}}catch(t){return{data:null,error:t}}})}verifyMobileOTP(e,t,r={}){return ae(this,void 0,void 0,function*(){try{let a=Object.assign({},this.headers);return{data:yield Ce(`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:a}),error:null}}catch(a){return{data:null,error:a}}})}inviteUserByEmail(e,t={}){return ae(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),a="";return t.redirectTo&&(a+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Ce(`${this.url}/invite${a}`,{email:e,data:t.data},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}resetPasswordForEmail(e,t={}){return ae(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers),a="";return t.redirectTo&&(a+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Ce(`${this.url}/recover${a}`,{email:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}signOut(e){return ae(this,void 0,void 0,function*(){try{return yield Ce(`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];return(null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}getUser(e){return ae(this,void 0,void 0,function*(){try{const t=yield function(n,e){return We(this,void 0,void 0,function*(){return Ae("GET",n,e)})}(`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return ae(this,void 0,void 0,function*(){try{const r=yield function(n,e,t){return We(this,void 0,void 0,function*(){return Ae("PUT",n,t,e)})}(`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}deleteUser(e,t){return ae(this,void 0,void 0,function*(){try{const r=yield function(n,e,t){return We(this,void 0,void 0,function*(){return Ae("DELETE",n,t,e)})}(`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(t)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}refreshAccessToken(e){return ae(this,void 0,void 0,function*(){try{const t=yield Ce(`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers});let r=Object.assign({},t);return r.expires_in&&(r.expires_at=se(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:a}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!a)throw new Error("Auth session missing!");I(e,t,{name:this.cookieOptions.name,value:a.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===r&&function(n,e,t){I(n,e,{name:t,value:"",maxAge:-1})}(e,t,this.cookieOptions.name),t.status(200).json({})}getUserByCookie(e){return ae(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const t=e.cookies[this.cookieOptions.name],{user:r,error:a}=yield this.getUser(t);if(a)throw a;return{user:r,data:r,error:null}}catch(t){return{user:null,data:null,error:t}}})}generateLink(e,t,r={}){return ae(this,void 0,void 0,function*(){try{return{data:yield Ce(`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(a){return{data:null,error:a}}})}}var xe=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(n){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ur={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/1.18.0"}};class yn extends class{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},Ur),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new dt({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{t.detectSessionInUrl&&W()&&_e("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(r){console.log("Error getting session from URL.")}}signUp({email:e,password:t,phone:r},a={}){return xe(this,void 0,void 0,function*(){try{this._removeSession();const{data:c,error:h}=r&&t?yield this.api.signUpWithPhone(r,t,{data:a.data}):yield this.api.signUpWithEmail(e,t,{redirectTo:a.redirectTo,data:a.data});if(h)throw h;if(!c)throw"An error occurred on sign up.";let d=null,p=null;return c.access_token&&(d=c,p=d.user,this._saveSession(d),this._notifyAllSubscribers("SIGNED_IN")),c.id&&(p=c),{data:c,user:p,session:d,error:null}}catch(c){return{data:null,user:null,session:null,error:c}}})}signIn({email:e,phone:t,password:r,refreshToken:a,provider:c},h={}){return xe(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!r){const{error:d}=yield this.api.sendMagicLinkEmail(e,{redirectTo:h.redirectTo});return{data:null,user:null,session:null,error:d}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:h.redirectTo});if(t&&!r){const{error:d}=yield this.api.sendMobileOTP(t);return{data:null,user:null,session:null,error:d}}if(t&&r)return this._handlePhoneSignIn(t,r);if(a){const{error:d}=yield this._callRefreshToken(a);if(d)throw d;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(c)return this._handleProviderSignIn(c,{redirectTo:h.redirectTo,scopes:h.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(d){return{data:null,user:null,session:null,error:d}}})}verifyOTP({phone:e,token:t},r={}){return xe(this,void 0,void 0,function*(){try{this._removeSession();const{data:a,error:c}=yield this.api.verifyMobileOTP(e,t,r);if(c)throw c;if(!a)throw"An error occurred on token verification.";let h=null,d=null;return a.access_token&&(h=a,d=h.user,this._saveSession(h),this._notifyAllSubscribers("SIGNED_IN")),a.id&&(d=a),{data:a,user:d,session:h,error:null}}catch(a){return{data:null,user:null,session:null,error:a}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return xe(this,void 0,void 0,function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return xe(this,void 0,void 0,function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:a}=yield this.api.updateUser(this.currentSession.access_token,e);if(a)throw a;if(!r)throw Error("Invalid user data.");const c=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(c),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}})}setSession(e){return xe(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return xe(this,void 0,void 0,function*(){try{if(!W())throw new Error("No browser detected.");const t=_e("error_description");if(t)throw new Error(t);const r=_e("provider_token"),a=_e("access_token");if(!a)throw new Error("No access_token detected.");const c=_e("expires_in");if(!c)throw new Error("No expires_in detected.");const h=_e("refresh_token");if(!h)throw new Error("No refresh_token detected.");const d=_e("token_type");if(!d)throw new Error("No token_type detected.");const b=Math.round(Date.now()/1e3)+parseInt(c),{user:v,error:S}=yield this.api.getUser(a);if(S)throw S;const O={provider_token:r,access_token:a,expires_in:parseInt(c),expires_at:b,refresh_token:h,token_type:d,user:v};return(null==e?void 0:e.storeSession)&&(this._saveSession(O),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===_e("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:O,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return xe(this,void 0,void 0,function*(){const t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:r}=yield this.api.signOut(t);if(r)return{error:r}}return{error:null}})}onAuthStateChange(e){try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)}),r=this,a={id:t,callback:e,unsubscribe:()=>{r.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,a),{data:a,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var a,c;return xe(this,void 0,void 0,function*(){try{const{data:h,error:d}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return d||!h?{data:null,user:null,session:null,error:d}:(((null===(a=null==h?void 0:h.user)||void 0===a?void 0:a.confirmed_at)||(null===(c=null==h?void 0:h.user)||void 0===c?void 0:c.email_confirmed_at))&&(this._saveSession(h),this._notifyAllSubscribers("SIGNED_IN")),{data:h,user:h.user,session:h,error:null})}catch(h){return{data:null,user:null,session:null,error:h}}})}_handlePhoneSignIn(e,t){var r;return xe(this,void 0,void 0,function*(){try{const{data:a,error:c}=yield this.api.signInWithPhone(e,t);return c||!a?{data:null,user:null,session:null,error:c}:((null===(r=null==a?void 0:a.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),{data:a,user:a.user,session:a,error:null})}catch(a){return{data:null,user:null,session:null,error:a}}})}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return W()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(a){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:a}}}_recoverSession(){var e;try{const t=W()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(ve));if(!t||"string"!=typeof t)return null;const r=JSON.parse(t),{currentSession:a,expiresAt:c}=r;c>=Math.round(Date.now()/1e3)&&(null==a?void 0:a.user)&&(this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){console.log("error",t)}}_recoverAndRefresh(){return xe(this,void 0,void 0,function*(){try{const e=W()&&(yield this.localStorage.getItem(ve));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:a}=t;if(a<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&r.refresh_token){const{error:h}=yield this._callRefreshToken(r.refresh_token);h&&(console.log(h.message),yield this._removeSession())}else this._removeSession();else r&&r.user?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),xe(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:a}=yield this.api.refreshAccessToken(e);if(a)throw a;if(!r)throw Error("Invalid session data.");return this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),{data:r,error:null}}catch(r){return{data:null,error:r}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const a=t-Math.round(Date.now()/1e3);this._startAutoRefreshToken(1e3*(a-(a>60?60:.5)))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};W()&&this.localStorage.setItem(ve,JSON.stringify(t))}_removeSession(){return xe(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),W()&&(yield this.localStorage.removeItem(ve))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0)&&this.autoRefreshToken&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(e){super(e)}}class Vt{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=st()(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(a=>function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){var c,h,d;let p=null,b=null,v=null;if(a.ok){const O=null===(c=this.headers.Prefer)||void 0===c?void 0:c.split(",").includes("return=minimal");if("HEAD"!==this.method&&!O){const U=yield a.text();U&&(b="text/csv"===this.headers.Accept?U:JSON.parse(U))}const x=null===(h=this.headers.Prefer)||void 0===h?void 0:h.match(/count=(exact|planned|estimated)/),L=null===(d=a.headers.get("content-range"))||void 0===d?void 0:d.split("/");x&&L&&L.length>1&&(v=parseInt(L[1]))}else if(p=yield a.json(),p&&this.shouldThrowOnError)throw p;return{error:p,data:b,count:v,status:a.status,statusText:a.statusText,body:b}}));return this.shouldThrowOnError||(r=r.catch(a=>({error:{message:`FetchError: ${a.message}`,details:"",hint:"",code:a.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),r.then(e,t)}}class Zt extends Vt{select(e="*"){let t=!1;const r=e.split("").map(a=>/\s/.test(a)&&!t?"":('"'===a&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:a}={}){const c=void 0===a?"order":`${a}.order`,h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){return this.url.searchParams.set(void 0===t?"limit":`${t}.limit`,`${e}`),this}range(e,t,{foreignTable:r}={}){const c=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(void 0===r?"offset":`${r}.offset`,`${e}`),this.url.searchParams.set(c,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new Zt(this);return e.then=(t,r)=>this.then(a=>{var c,h;return(null===(h=null===(c=a.error)||void 0===c?void 0:c.details)||void 0===h?void 0:h.includes("Results contain 0 rows"))?t({error:null,data:null,count:a.count,status:200,statusText:"OK",body:null}):t(a)},r),e}csv(){return this.headers.Accept="text/csv",this}}class at extends Zt{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){return this.url.searchParams.append(void 0===t?"or":`${t}.or`,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map(a=>"string"==typeof a&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return this.url.searchParams.append(`${e}`,"string"==typeof t?`ov.${t}`:`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:a=null}={}){let c="";return"plain"===a?c="pl":"phrase"===a?c="ph":"websearch"===a&&(c="w"),this.url.searchParams.append(`${e}`,`${c}fts${void 0===r?"":`(${r})`}.${t}`),this}fts(e,t,{config:r}={}){return this.url.searchParams.append(`${e}`,`fts${void 0===r?"":`(${r})`}.${t}`),this}plfts(e,t,{config:r}={}){return this.url.searchParams.append(`${e}`,`plfts${void 0===r?"":`(${r})`}.${t}`),this}phfts(e,t,{config:r}={}){return this.url.searchParams.append(`${e}`,`phfts${void 0===r?"":`(${r})`}.${t}`),this}wfts(e,t,{config:r}={}){return this.url.searchParams.append(`${e}`,`wfts${void 0===r?"":`(${r})`}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class q extends Vt{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let a=!1;const c=e.split("").map(h=>/\s/.test(h)&&!a?"":('"'===h&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new at(this)}insert(e,{upsert:t=!1,onConflict:r,returning:a="representation",count:c=null}={}){this.method="POST";const h=[`return=${a}`];if(t&&h.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),Array.isArray(e)){const d=e.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(d.length>0){const p=[...new Set(d)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new at(this)}upsert(e,{onConflict:t,returning:r="representation",count:a=null,ignoreDuplicates:c=!1}={}){this.method="POST";const h=[`resolution=${c?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new at(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const a=[`return=${t}`];return this.body=e,r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new at(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new at(this)}}class mt extends Vt{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([a,c])=>{this.url.searchParams.append(a,c)})):(this.method="POST",this.body=e),r&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new at(this)}}const fi={"X-Client-Info":"postgrest-js/0.34.0"};class hi{constructor(e,{headers:t={},schema:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},fi),t),this.schema=r}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){return new q(`${this.url}/${e}`,{headers:this.headers,schema:this.schema})}rpc(e,t,{head:r=!1,count:a=null}={}){return new mt(`${this.url}/rpc/${e}`,{headers:this.headers,schema:this.schema}).rpc(t,{head:r,count:a})}}var Z=(()=>{return(n=Z||(Z={})).abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",Z;var n})();const It=(n,e,t={})=>{let r={},a=void 0!==t.skipTypes?t.skipTypes:[];return Object.entries(e).map(([c,h])=>{r[c]=pn(c,n,e,a)}),r},pn=(n,e,t,r)=>{let a=e.find(c=>c.name==n);return!a||r.includes(a.type)?Qe(t[n]):vn(a.type,t[n])},vn=(n,e)=>{try{if(null===e)return null;if("_"===n.charAt(0)){let t=n.slice(1,n.length);return Yr(e,t)}switch(n){case Z.abstime:return Qe(e);case Z.bool:return gn(e);case Z.date:return Qe(e);case Z.daterange:return He(e);case Z.float4:case Z.float8:return dr(e);case Z.int2:case Z.int4:return Xe(e);case Z.int4range:return Te(e);case Z.int8:return Xe(e);case Z.int8range:return Te(e);case Z.json:case Z.jsonb:return mr(e);case Z.money:case Z.numeric:return dr(e);case Z.oid:return Xe(e);case Z.reltime:case Z.time:return Qe(e);case Z.timestamp:return qt(e);case Z.timestamptz:case Z.timetz:return Qe(e);case Z.tsrange:case Z.tstzrange:return He(e);default:return Qe(e)}}catch(t){return console.log(`Could not convert cell of type ${n} and value ${e}`),console.log(`This is the error: ${t}`),e}},Qe=n=>n,gn=n=>{switch(n){case"t":return!0;case"f":return!1;default:return null}},He=n=>{let e=JSON.parse(n);return[new Date(e[0]),new Date(e[1])]},dr=n=>parseFloat(n),Xe=n=>parseInt(n),Te=n=>{let e=JSON.parse(n);return[parseInt(e[0]),parseInt(e[1])]},mr=n=>JSON.parse(n),Yr=(n,e)=>{let t=n.slice(1,n.length-1);return(t.length>0?t.split(","):[]).map(c=>vn(e,c))},qt=n=>n.replace(" ","T"),pr={"X-Client-Info":"realtime-js/1.1.3"};var yt=(()=>{return(n=yt||(yt={}))[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",yt;var n})(),ge=(()=>{return(n=ge||(ge={})).closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",ge;var n})(),Ue=(()=>{return(n=Ue||(Ue={})).close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",Ue;var n})(),pt=(()=>((pt||(pt={})).websocket="websocket",pt))();class Gt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Mt{constructor(e,t,r={},a=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class bn{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Mt(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new Gt(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=ge.closed,this.socket.remove(this)}),this.onError(a=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.on(Ue.reply,(a,c)=>{this.trigger(this.replyEventName(c),a)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(Ue.close,e)}onError(e){this.on(Ue.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mt(this,e,t,r);return this.canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}unsubscribe(e=this.timeout){this.state=ge.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ue.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new Mt(this,Ue.leave,{},e);return r.receive("ok",()=>t()).receive("timeout",()=>t()),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=ge.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,t,r){let{close:a,error:c,leave:h,join:d}=Ue;if(r&&[a,c,h,d].indexOf(e)>=0&&r!==this.joinRef())return;let b=this.onMessage(e,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(v=>"*"===v.event?e===(null==t?void 0:t.type):v.event===e).map(v=>v.callback(b,r))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===ge.closed}isErrored(){return this.state===ge.errored}isJoined(){return this.state===ge.joined}isJoining(){return this.state===ge.joining}isLeaving(){return this.state===ge.leaving}}var ue=V(6033);class di{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),c=t.getUint8(2);let h=this.HEADER_LENGTH+2;const d=r.decode(e.slice(h,h+a));h+=a;const p=r.decode(e.slice(h,h+c));return h+=c,{ref:null,topic:d,event:p,payload:JSON.parse(r.decode(e.slice(h,e.byteLength)))}}}const mi=()=>{};class Sn{constructor(e,t){this.channels=[],this.endPoint="",this.headers=pr,this.params={},this.timeout=1e4,this.transport=ue.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mi,this.conn=null,this.sendBuffer=[],this.serializer=new di,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${pt.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(r,a)=>a(JSON.stringify(r)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gt(()=>function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((r,a)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(c){r({error:c,data:!1})}})}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case yt.connecting:return"connecting";case yt.open:return"open";case yt.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){let r=new bn(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:a,ref:c}=e,h=()=>{this.encode(e,d=>{var p;null===(p=this.conn)||void 0===p||p.send(d)})};this.log("push",`${t} ${r} (${c})`,a),this.isConnected()?h():this.sendBuffer.push(h)}onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:a,payload:c,ref:h}=t;h&&h===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:a===(null==c?void 0:c.type)&&this._resetHeartbeat(),this.log("receive",`${c.status||""} ${r} ${a} ${h&&"("+h+")"||""}`,c),this.channels.filter(d=>d.isMember(r)).forEach(d=>d.trigger(a,c,h)),this.stateChangeCallbacks.message.forEach(d=>d(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return this.ref=e===this.ref?0:e,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(Ue.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class Tn{constructor(e,t,r,a){const c={},h="*"===a?`realtime:${r}`:`realtime:${r}:${a}`,d=t.Authorization.split(" ")[1];d&&(c.user_token=d),this.subscription=e.channel(h,c)}getPayloadRecords(e){const t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=It(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=It(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,r=>{let a={schema:r.schema,table:r.table,commit_timestamp:r.commit_timestamp,eventType:r.type,new:{},old:{}};a=Object.assign(Object.assign({},a),this.getPayloadRecords(r)),t(a)}),this}subscribe(e=(()=>{})){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class kn extends q{constructor(e,{headers:t={},schema:r,realtime:a,table:c}){super(e,{headers:t,schema:r}),this._subscription=new Tn(a,t,r,c),this._realtime=a}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(e,t)}}var Jt=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};const On=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n);function vr(n,e,t,r,a){return Jt(this,void 0,void 0,function*(){return new Promise((c,h)=>{st()(e,((n,e,t,r)=>{const a={method:n,headers:(null==e?void 0:e.headers)||{}};return"GET"===n?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))})(n,t,r,a)).then(d=>{if(!d.ok)throw d;return(null==t?void 0:t.noResolveJson)?c(d):d.json()}).then(d=>c(d)).catch(d=>((n,e)=>{if("function"!=typeof n.json)return e(n);n.json().then(t=>e({message:On(t),status:(null==n?void 0:n.status)||500}))})(d,h))})})}function Vr(n,e,t){return Jt(this,void 0,void 0,function*(){return vr("GET",n,e,t)})}function At(n,e,t,r){return Jt(this,void 0,void 0,function*(){return vr("POST",n,t,r,e)})}function pi(n,e,t,r){return Jt(this,void 0,void 0,function*(){return vr("PUT",n,t,r,e)})}function En(n,e,t,r){return Jt(this,void 0,void 0,function*(){return vr("DELETE",n,t,r,e)})}const vi={"X-Client-Info":"storage-js/0.0.0"};var Ct=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})},et=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};const bi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ve{constructor(e,t={},r){this.url=e,this.headers=t,this.bucketId=r}uploadOrUpdate(e,t,r,a){return et(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},qe),a),d=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(h.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const p=this._getFinalPath(t),b=yield st()(`${this.url}/object/${p}`,{method:e,body:c,headers:d});return b.ok?{data:{Key:p},error:null}:{data:null,error:yield b.json()}}catch(c){return{data:null,error:c}}})}upload(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return et(this,void 0,void 0,function*(){try{return{data:yield At(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,t){return et(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let a=yield At(`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const c=`${this.url}${a.signedURL}`;return a={signedURL:c},{data:a,error:null,signedURL:c}}catch(r){return{data:null,error:r,signedURL:null}}})}download(e){return et(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield Vr(`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield En(`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,r){return et(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},bi),t),{prefix:e||""});return{data:yield At(`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){return{data:null,error:a}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}}class Nt extends class{constructor(e,t={}){this.url=e,this.headers=Object.assign(Object.assign({},vi),t)}listBuckets(){return Ct(this,void 0,void 0,function*(){try{return{data:yield Vr(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Vr(`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return Ct(this,void 0,void 0,function*(){try{return{data:(yield At(`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(r){return{data:null,error:r}}})}updateBucket(e,t){return Ct(this,void 0,void 0,function*(){try{return{data:yield pi(`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}emptyBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield At(`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield En(`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}{constructor(e,t={}){super(e,t)}from(e){return new Ve(this.url,this.headers,e)}}var gr=function(n,e,t,r){return new(t||(t=Promise))(function(c,h){function d(v){try{b(r.next(v))}catch(S){h(S)}}function p(v){try{b(r.throw(v))}catch(S){h(S)}}function b(v){v.done?c(v.value):function(c){return c instanceof t?c:new t(function(h){h(c)})}(v.value).then(d,p)}b((r=r.apply(n,e||[])).next())})};const _n={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ee};var xn=V(8271);const Kt=new class{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");e=e.replace(/\/$/,"");const a=Object.assign(Object.assign({},_n),r);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=a.schema,this.auth=this._initSupabaseAuthClient(a),this.realtime=this._initRealtimeClient(a.realtime)}get storage(){return new Nt(this.storageUrl,this._getAuthHeaders())}from(e){return new kn(`${this.restUrl}/${e}`,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e})}rpc(e,t,{head:r=!1,count:a=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:a})}removeSubscription(e){return new Promise(t=>gr(this,void 0,void 0,function*(){try{yield this._closeSubscription(e);const r=this.getSubscriptions().length;if(!r){const{error:a}=yield this.realtime.disconnect();if(a)return t({error:a})}return t({error:null,data:{openSubscriptions:r}})}catch(r){return t({error:r})}}))}_closeSubscription(e){return gr(this,void 0,void 0,function*(){e.isClosed()||(yield this._closeChannel(e))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:a,headers:c}){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yn({url:this.authUrl,headers:Object.assign(Object.assign({},c),h),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:a})}_initRealtimeClient(e){return new Sn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new hi(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var e,t;const r=ee,a=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${a}`,r}_closeChannel(e){return new Promise((t,r)=>{e.unsubscribe().receive("ok",()=>(this.realtime.remove(e),t(!0))).receive("error",a=>r(a))})}}(xn.N.SUPABASE_URL,xn.N.SUPABASE_ANON_PUBLIC_KEY,undefined);let Lt=(()=>{class n{static setItem(t,r){n.storage().localStorage.setItem(t,JSON.stringify(r))}static removeItem(t){n.storage().localStorage.removeItem(t)}static clear(){n.storage().localStorage.clear()}static getItem(t,r=!0){const a=n.storage().localStorage.getItem(t);return a&&"undefined"!==a&&r?JSON.parse(a):a}}return n.storage=()=>window,n})();const ke=new class extends class extends class{constructor(e){this.collectionName=e}select(e){return new Promise((t,r)=>Kt.from(this.collectionName).select(e).then(a=>{a.error&&r(a),t(a.data)}))}insert(e,t){return Kt.from(this.collectionName).insert(e,t)}update(e){return Kt.from(this.collectionName).update(Object.assign(Object.assign({},e),{updated_at:(new Date).toISOString()}))}upsert(e){return Kt.from(this.collectionName).upsert(e)}delete(e){return Kt.from(this.collectionName).delete().match({id:e})}}{constructor(e,t){super(e),this.collection=[],this.cachedCollectionsLocalStorageName="cachedCollections",this.markCollectionCached=()=>{const a=Lt.getItem(this.cachedCollectionsLocalStorageName)||{};a[this.collectionName]=!0,Lt.setItem(this.cachedCollectionsLocalStorageName,a)},this.refreshData=()=>(this.markCollectionCached(),this.select().then(r=>(this.collection=r,Lt.setItem(this.collectionName,r),this.refreshCallback(r),r))),this.refreshCallback=t}get collectionCached(){const e=Lt.getItem(this.cachedCollectionsLocalStorageName);return!!e&&e[this.collectionName]}getAll(e){return e||!this.collectionCached?this.refreshData():(this.collection=Lt.getItem(this.collectionName),this.refreshCallback(this.collection),Promise.resolve(this.collection))}getItem(e){return e?this.collectionCached&&0!==this.collection.length?Promise.resolve(this.collection.find(t=>t.id===e)):this.refreshData().then(()=>Promise.resolve(this.collection.find(t=>t.id===e))):Promise.reject("id is not defined")}updateItem(e,t){return e?new Promise(r=>{let a;this.update(t).match({id:e}).then(c=>(a=c,this.refreshData())).then(()=>{r(a.data?a.data[0]:null)})}):Promise.reject("itemId is not defined")}createItem(e){return new Promise(t=>{let r;this.insert(e).then(a=>(r=a,this.refreshData())).then(()=>{t(r.data?r.data[0]:null)})})}deleteItem(e){return e?new Promise(t=>{let r;this.delete(e).then(a=>(r=a,this.refreshData())).then(()=>{t(r.data?r.data[0]:null)})}):Promise.reject("itemId is not defined")}}{constructor(){super("Appointments",e=>{this.collection$.next(e)}),this.collection$=new J.X([]),this.getAll().then(e=>this.collection$.next(e))}};var Qt=["MO","TU","WE","TH","FR","SA","SU"],fe=function(){function n(e,t){if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return n.fromStr=function(e){return new n(Qt.indexOf(e))},n.prototype.nth=function(e){return this.n===e?this:new n(this.weekday,e)},n.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},n.prototype.toString=function(){var e=Qt[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},n.prototype.getJsWeekday=function(){return 6===this.weekday?0:this.weekday+1},n}(),he=function(n){return null!=n},je=function(n){return"number"==typeof n},Br=function(n){return Qt.indexOf(n)>=0},Le=Array.isArray,Ze=function(n,e){void 0===e&&(e=n),1===arguments.length&&(e=n,n=0);for(var t=[],r=n;r<e;r++)t.push(r);return t},C=function(n,e){var t=0,r=[];if(Le(n))for(;t<e;t++)r[t]=[].concat(n);else for(;t<e;t++)r[t]=n;return r},qr=function(n){return Le(n)?n:[n]};function ot(n,e,t){void 0===t&&(t=" ");var r=String(n);return r.length>(e>>=0)?String(r):((e-=r.length)>t.length&&(t+=C(t,e/t.length)),t.slice(0,e)+String(r))}var vt,n,Pe=function(n,e){var t=n%e;return t*e<0?t+e:t},Xt=function(n,e){return{div:Math.floor(n/e),mod:Pe(n,e)}},ze=function(n){return!he(n)||0===n.length},oe=function(n){return!ze(n)},te=function(n,e){return oe(n)&&-1!==n.indexOf(e)};(n=vt||(vt={})).MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],n.ONE_DAY=864e5,n.MAXYEAR=9999,n.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),n.PY_WEEKDAYS=[6,0,1,2,3,4,5],n.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/n.ONE_DAY)+1},n.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},n.isDate=function(e){return e instanceof Date},n.isValidDate=function(e){return n.isDate(e)&&!isNaN(e.getTime())},n.tzOffset=function(e){return 60*e.getTimezoneOffset()*1e3},n.daysBetween=function(e,t){var r=e.getTime()-n.tzOffset(e),a=t.getTime()-n.tzOffset(t);return Math.round((r-a)/n.ONE_DAY)},n.toOrdinal=function(e){return n.daysBetween(e,n.ORDINAL_BASE)},n.fromOrdinal=function(e){return new Date(n.ORDINAL_BASE.getTime()+e*n.ONE_DAY)},n.getMonthDays=function(e){var t=e.getUTCMonth();return 1===t&&n.isLeapYear(e.getUTCFullYear())?29:n.MONTH_DAYS[t]},n.getWeekday=function(e){return n.PY_WEEKDAYS[e.getUTCDay()]},n.monthRange=function(e,t){var r=new Date(Date.UTC(e,t,1));return[n.getWeekday(r),n.getMonthDays(r)]},n.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},n.clone=function(e){return new Date(e.getTime())},n.cloneDates=function(e){for(var t=[],r=0;r<e.length;r++)t.push(n.clone(e[r]));return t},n.sort=function(e){e.sort(function(t,r){return t.getTime()-r.getTime()})},n.timeToUntilString=function(e,t){void 0===t&&(t=!0);var r=new Date(e);return[ot(r.getUTCFullYear().toString(),4,"0"),ot(r.getUTCMonth()+1,2,"0"),ot(r.getUTCDate(),2,"0"),"T",ot(r.getUTCHours(),2,"0"),ot(r.getUTCMinutes(),2,"0"),ot(r.getUTCSeconds(),2,"0"),t?"Z":""].join("")},n.untilStringToDate=function(e){var r=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(e);if(!r)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[5],10)||0,parseInt(r[6],10)||0,parseInt(r[7],10)||0))};const H=vt,Ft=function(){function n(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,"between"===e?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):"before"===e?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):"after"===e&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return n.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,r=this.maxDate&&e>this.maxDate;if("between"===this.method){if(t)return!0;if(r)return!1}else if("before"===this.method){if(r)return!1}else if("after"===this.method)return!!t||(this.add(e),!1);return this.add(e)},n.prototype.add=function(e){return this._result.push(e),!0},n.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},n.prototype.clone=function(){return new n(this.method,this.args)},n}();var Rt=function(n,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])})(n,e)};function Gr(n,e){function t(){this.constructor=n}Rt(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var Fe=function(){return(Fe=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var c in t=arguments[r])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)};function jt(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var r=Array(n),a=0;for(e=0;e<t;e++)for(var c=arguments[e],h=0,d=c.length;h<d;h++,a++)r[a]=c[h];return r}const bt=function(n){function e(t,r,a){var c=n.call(this,t,r)||this;return c.iterator=a,c}return Gr(e,n),e.prototype.add=function(t){return!!this.iterator(t,this._result.length)&&(this._result.push(t),!0)},e}(Ft),kr={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}};var Cn=function(n,e){return-1!==n.indexOf(e)},xi=function(n){return n.toString()},Ii=function(n,e,t){return e+" "+t+", "+n};const rt=function(){function n(e,t,r,a){if(void 0===t&&(t=xi),void 0===r&&(r=kr),void 0===a&&(a=Ii),this.text=[],this.language=r||kr,this.gettext=t,this.dateFormatter=a,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var c=[].concat(this.options.bymonthday),h=[].concat(this.options.bynmonthday);c.sort(function(v,S){return v-S}),h.sort(function(v,S){return S-v}),this.bymonthday=c.concat(h),this.bymonthday.length||(this.bymonthday=null)}if(he(this.origOptions.byweekday)){var d=Le(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],p=String(d);this.byweekday={allWeeks:d.filter(function(v){return!v.n}),someWeeks:d.filter(function(v){return Boolean(v.n)}),isWeekdays:-1!==p.indexOf("MO")&&-1!==p.indexOf("TU")&&-1!==p.indexOf("WE")&&-1!==p.indexOf("TH")&&-1!==p.indexOf("FR")&&-1===p.indexOf("SA")&&-1===p.indexOf("SU"),isEveryDay:-1!==p.indexOf("MO")&&-1!==p.indexOf("TU")&&-1!==p.indexOf("WE")&&-1!==p.indexOf("TH")&&-1!==p.indexOf("FR")&&-1!==p.indexOf("SA")&&-1!==p.indexOf("SU")};var b=function(v,S){return v.weekday-S.weekday};this.byweekday.allWeeks.sort(b),this.byweekday.someWeeks.sort(b),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return n.isFullyConvertible=function(e){if(!(e.options.freq in n.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var r in e.origOptions){if(Cn(["dtstart","wkst","freq"],r))return!0;if(!Cn(n.IMPLEMENTED[e.options.freq],r))return!1}return!0},n.prototype.isFullyConvertible=function(){return n.isFullyConvertible(this.rrule)},n.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in n.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[re.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},n.prototype.HOURLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},n.prototype.MINUTELY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},n.prototype.DAILY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.byweekday&&this.byweekday.isWeekdays?this.plural(this.options.interval)?e("weekdays"):e("weekday"):this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},n.prototype.WEEKLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?1===this.options.interval?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(1===this.options.interval&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},n.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},n.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},n.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},n.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},n.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},n.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},n.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,r,a=this.gettext;if(-1===e)return a("last");switch(r=Math.abs(e)){case 1:case 21:case 31:t=r+a("st");break;case 2:case 22:t=r+a("nd");break;case 3:case 23:t=r+a("rd");break;default:t=r+a("th")}return e<0?t+" "+a("last"):t},n.prototype.monthtext=function(e){return this.language.monthNames[e-1]},n.prototype.weekdaytext=function(e){var t=je(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},n.prototype.plural=function(e){return e%100!=1},n.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},n.prototype.list=function(e,t,r,a){void 0===a&&(a=","),Le(e)||(e=[e]),t=t||function(p){return p.toString()};var h=this,d=function(p){return t&&t.call(h,p)};return r?function(p,b,v){for(var S="",O=0;O<p.length;O++)0!==O&&(S+=O===p.length-1?" "+v+" ":b+" "),S+=p[O];return S}(e.map(d),a,r):e.map(d).join(a+" ")},n}();var Mi=function(){function n(e){this.done=!0,this.rules=e}return n.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},n.prototype.isDone=function(){return this.done&&null===this.symbol},n.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var c in e=null,this.rules){var h=this.rules[c].exec(this.text);h&&(null===e||h[0].length>e[0].length)&&(e=h,t=c)}if(null!=e&&(this.text=this.text.substr(e[0].length),""===this.text&&(this.done=!0)),null==e)return this.done=!0,this.symbol=null,void(this.value=null)}while("SKIP"===t);return this.symbol=t,this.value=e,!0},n.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},n.prototype.acceptNumber=function(){return this.accept("number")},n.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},n}();function Nn(n,e){void 0===e&&(e=kr);var t={},r=new Mi(e.tokens);return r.start(n)?(function(){r.expect("every");var O=r.acceptNumber();if(O&&(t.interval=parseInt(O[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":t.freq=re.DAILY,r.nextSymbol()&&(function(){if(r.accept("at"))do{var x=r.acceptNumber();if(!x)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(t.byhour=[parseInt(x[0],10)];r.accept("comma");){if(!(x=r.acceptNumber()))throw new Error("Unexpected symbol "+r.symbol+"; expected hour");t.byhour.push(parseInt(x[0],10))}}while(r.accept("comma")||r.accept("at"))}(),S());break;case"weekday(s)":t.freq=re.WEEKLY,t.byweekday=[re.MO,re.TU,re.WE,re.TH,re.FR],r.nextSymbol(),S();break;case"week(s)":t.freq=re.WEEKLY,r.nextSymbol()&&(c(),S());break;case"hour(s)":t.freq=re.HOURLY,r.nextSymbol()&&(c(),S());break;case"minute(s)":t.freq=re.MINUTELY,r.nextSymbol()&&(c(),S());break;case"month(s)":t.freq=re.MONTHLY,r.nextSymbol()&&(c(),S());break;case"year(s)":t.freq=re.YEARLY,r.nextSymbol()&&(c(),S());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=re.WEEKLY;var x=r.symbol.substr(0,2).toUpperCase();if(t.byweekday=[re[x]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var L=p();if(!L)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");t.byweekday.push(re[L]),r.nextSymbol()}(function(){r.accept("on"),r.accept("the");var O=b();if(O)for(t.bymonthday=[O],r.nextSymbol();r.accept("comma");){if(!(O=b()))throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");t.bymonthday.push(O),r.nextSymbol()}})(),S();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=re.YEARLY,t.bymonth=[d()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var U=d();if(!U)throw new Error("Unexpected symbol "+r.symbol+", expected month");t.bymonth.push(U),r.nextSymbol()}c(),S();break;default:throw new Error("Unknown symbol")}}(),t):null;function c(){var O=r.accept("on"),x=r.accept("the");if(O||x)do{var L=b(),U=p(),Y=d();if(L)U?(r.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(re[U].nth(L))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(L),r.accept("day(s)"));else if(U)r.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(re[U]);else if("weekday(s)"===r.symbol)r.nextSymbol(),t.byweekday||(t.byweekday=[re.MO,re.TU,re.WE,re.TH,re.FR]);else if("week(s)"===r.symbol){r.nextSymbol();var B=r.acceptNumber();if(!B)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(t.byweekno=[parseInt(B[0],10)];r.accept("comma");){if(!(B=r.acceptNumber()))throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");t.byweekno.push(parseInt(B[0],10))}}else{if(!Y)return;r.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(Y)}}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function d(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function p(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function b(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var O=parseInt(r.value[1],10);if(O<-366||O>366)throw new Error("Nth out of range: "+O);return r.nextSymbol(),r.accept("last")?-O:O;default:return!1}}function S(){if("until"===r.symbol){var O=Date.parse(r.text);if(!O)throw new Error("Cannot parse until date:"+r.text);t.until=new Date(O)}else r.accept("for")&&(t.count=parseInt(r.value[0],10),r.expect("number"))}}var z=(()=>(function(n){n[n.YEARLY=0]="YEARLY",n[n.MONTHLY=1]="MONTHLY",n[n.WEEKLY=2]="WEEKLY",n[n.DAILY=3]="DAILY",n[n.HOURLY=4]="HOURLY",n[n.MINUTELY=5]="MINUTELY",n[n.SECONDLY=6]="SECONDLY"}(z||(z={})),z))();function Kr(n){return n<z.HOURLY}var wt=["count","until","interval","byweekday","bymonthday","bymonth"];rt.IMPLEMENTED=[],rt.IMPLEMENTED[z.HOURLY]=wt,rt.IMPLEMENTED[z.MINUTELY]=wt,rt.IMPLEMENTED[z.DAILY]=["byhour"].concat(wt),rt.IMPLEMENTED[z.WEEKLY]=wt,rt.IMPLEMENTED[z.MONTHLY]=wt,rt.IMPLEMENTED[z.YEARLY]=["byweekno","byyearday"].concat(wt);var Ni=rt.isFullyConvertible,Or=function(){function n(e,t,r,a){this.hour=e,this.minute=t,this.second=r,this.millisecond=a||0}return n.prototype.getHours=function(){return this.hour},n.prototype.getMinutes=function(){return this.minute},n.prototype.getSeconds=function(){return this.second},n.prototype.getMilliseconds=function(){return this.millisecond},n.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},n}(),Li=function(n){function e(t,r,a,c,h,d,p){var b=n.call(this,c,h,d,p)||this;return b.year=t,b.month=r,b.day=a,b}return Gr(e,n),e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return vt.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var r=Math.floor(this.month/12),a=Pe(this.month,12);this.month=a,this.year+=r,0===this.month&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+7*t:this.day+=-(this.getWeekday()-r)+7*t,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,r,a){for(r&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var c=Xt(this.hour,24),h=c.div;if(h&&(this.hour=c.mod,this.addDaily(h)),ze(a)||te(a,this.hour))break}},e.prototype.addMinutes=function(t,r,a,c){for(r&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/t)*t);;){this.minute+=t;var h=Xt(this.minute,60),d=h.div;if(d&&(this.minute=h.mod,this.addHours(d,!1,a)),(ze(a)||te(a,this.hour))&&(ze(c)||te(c,this.minute)))break}},e.prototype.addSeconds=function(t,r,a,c,h){for(r&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/t)*t);;){this.second+=t;var d=Xt(this.second,60),p=d.div;if(p&&(this.second=d.mod,this.addMinutes(p,!1,a,c)),(ze(a)||te(a,this.hour))&&(ze(c)||te(c,this.minute))&&(ze(h)||te(h,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=vt.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,13===this.month&&(this.month=1,++this.year,this.year>vt.MAXYEAR))return;t=vt.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,r){var c=t.interval,h=t.wkst,d=t.byhour,p=t.byminute,b=t.bysecond;switch(t.freq){case z.YEARLY:return this.addYears(c);case z.MONTHLY:return this.addMonths(c);case z.WEEKLY:return this.addWeekly(c,h);case z.DAILY:return this.addDaily(c);case z.HOURLY:return this.addHours(c,r,d);case z.MINUTELY:return this.addMinutes(c,r,d,p);case z.SECONDLY:return this.addSeconds(c,r,d,p,b)}},e}(Or);function Ln(n){for(var e=[],r=0,a=Object.keys(n);r<a.length;r++){var c=a[r];te(Xi,c)||e.push(c),H.isDate(n[c])&&!H.isValidDate(n[c])&&e.push(c)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Fe({},n)}function Qr(n){var e=n.split("\n").map(Ui).filter(function(t){return null!==t});return Fe(Fe({},e[0]),e[1])}function Dr(n){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(n);if(!t)return e;var a=t[1],c=t[2];return a&&(e.tzid=a),e.dtstart=H.untilStringToDate(c),e}function Ui(n){if(!(n=n.replace(/^\s+|\s+$/,"")).length)return null;var e=/^([A-Z]+?)[:;]/.exec(n.toUpperCase());if(!e)return Fn(n);var r=e[1];switch(r.toUpperCase()){case"RRULE":case"EXRULE":return Fn(n);case"DTSTART":return Dr(n);default:throw new Error("Unsupported RFC prop "+r+" in "+n)}}function Fn(n){var t=Dr(n.replace(/^RRULE:/i,""));return n.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(a){var c=a.split("="),h=c[0],d=c[1];switch(h.toUpperCase()){case"FREQ":t.freq=z[d.toUpperCase()];break;case"WKST":t.wkst=Ye[d.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var p=function(n){return-1!==n.indexOf(",")?n.split(",").map(Rn):Rn(n)}(d),b=h.toLowerCase();t[b]=p;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=function(n){return n.split(",").map(function(t){if(2===t.length)return Ye[t];var r=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/),a=Number(r[1]);return new fe(Ye[r[2]].weekday,a)})}(d);break;case"DTSTART":case"TZID":var v=Dr(n);t.tzid=v.tzid,t.dtstart=v.dtstart;break;case"UNTIL":t.until=H.untilStringToDate(d);break;case"BYEASTER":t.byeaster=Number(d);break;default:throw new Error("Unknown RRULE property '"+h+"'")}}),t}function Rn(n){return/^[+-]?\d+$/.test(n)?Number(n):n}var $i=V(5429),Er=function(){function n(e,t){this.date=e,this.tzid=t}return Object.defineProperty(n.prototype,"isUTC",{get:function(){return!this.tzid||"UTC"===this.tzid.toUpperCase()},enumerable:!0,configurable:!0}),n.prototype.toString=function(){var e=H.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+e:";TZID="+this.tzid+":"+e},n.prototype.getTime=function(){return this.date.getTime()},n.prototype.rezonedDate=function(){if(this.isUTC)return this.date;try{return $i.ou.fromJSDate(this.date).setZone(this.tzid,{keepLocalTime:!0}).toJSDate()}catch(r){return r instanceof TypeError&&console.error("Using TZID without Luxon available is unsupported. Returned times are in UTC, not the requested time zone"),this.date}},n}();function Xr(n){for(var e=[],t="",r=Object.keys(n),a=Object.keys(_r),c=0;c<r.length;c++)if("tzid"!==r[c]&&te(a,r[c])){var h=r[c].toUpperCase(),d=n[r[c]],p="";if(he(d)&&(!Le(d)||d.length)){switch(h){case"FREQ":p=G.FREQUENCIES[n.freq];break;case"WKST":p=je(d)?new fe(d).toString():d.toString();break;case"BYWEEKDAY":h="BYDAY",p=qr(d).map(function(x){return x instanceof fe?x:Le(x)?new fe(x[0],x[1]):new fe(x)}).toString();break;case"DTSTART":t=Yi(d,n.tzid);break;case"UNTIL":p=H.timeToUntilString(d,!n.tzid);break;default:if(Le(d)){for(var b=[],v=0;v<d.length;v++)b[v]=String(d[v]);p=b.toString()}else p=String(d)}p&&e.push([h,p])}}var S=e.map(function(x){return x[0]+"="+x[1].toString()}).join(";"),O="";return""!==S&&(O="RRULE:"+S),[t,O].filter(function(x){return!!x}).join("\n")}function Yi(n,e){return n?"DTSTART"+new Er(new Date(n),e).toString():""}var Wi=function(){function n(){this.all=!1,this.before=[],this.after=[],this.between=[]}return n.prototype._cacheAdd=function(e,t,r){t&&(t=t instanceof Date?H.clone(t):H.cloneDates(t)),"all"===e?this.all=t:(r._value=t,this[e].push(r))},n.prototype._cacheGet=function(e,t){var r=!1,a=t?Object.keys(t):[],c=function(v){for(var S=0;S<a.length;S++){var O=a[S];if(String(t[O])!==String(v[O]))return!0}return!1},h=this[e];if("all"===e)r=this.all;else if(Le(h))for(var d=0;d<h.length;d++){var p=h[d];if(!a.length||!c(p)){r=p._value;break}}if(!r&&this.all){var b=new Ft(e,t);for(d=0;d<this.all.length&&b.accept(this.all[d]);d++);r=b.getValue(),this._cacheAdd(e,r,t)}return Le(r)?H.cloneDates(r):r instanceof Date?H.clone(r):r},n}(),Hi=jt(C(1,31),C(2,28),C(3,31),C(4,30),C(5,31),C(6,30),C(7,31),C(8,31),C(9,30),C(10,31),C(11,30),C(12,31),C(1,7)),Vi=jt(C(1,31),C(2,29),C(3,31),C(4,30),C(5,31),C(6,30),C(7,31),C(8,31),C(9,30),C(10,31),C(11,30),C(12,31),C(1,7)),Un=Ze(1,29),Zi=Ze(1,30),ye=Ze(1,31),de=Ze(1,32),Bi=jt(de,Zi,de,ye,de,ye,de,de,ye,de,ye,de,de.slice(0,7)),Pt=jt(de,Un,de,ye,de,ye,de,de,ye,de,ye,de,de.slice(0,7)),qi=Ze(-28,0),St=Ze(-29,0),ut=Ze(-30,0),Se=Ze(-31,0),zi=jt(Se,St,Se,ut,Se,ut,Se,Se,ut,Se,ut,Se,Se.slice(0,7)),Ie=jt(Se,qi,Se,ut,Se,ut,Se,Se,ut,Se,ut,Se,Se.slice(0,7)),Tt=[0,31,60,91,121,152,182,213,244,274,305,335,366],nr=[0,31,59,90,120,151,181,212,243,273,304,334,365],jn=function(){for(var n=[],e=0;e<55;e++)n=n.concat(Ze(7));return n}();const en=function(){function n(e){this.options=e}return n.prototype.rebuild=function(e,t){var r=this.options;if(e!==this.lastyear&&(this.yearinfo=function(n,e){var t=new Date(Date.UTC(n,0,1)),r=H.isLeapYear(n)?366:365,a=H.isLeapYear(n+1)?366:365,c=H.toOrdinal(t),h=H.getWeekday(t),d=Fe(Fe({yearlen:r,nextyearlen:a,yearordinal:c,yearweekday:h},function(n){var e=H.isLeapYear(n)?366:365,t=new Date(Date.UTC(n,0,1)),r=H.getWeekday(t);return 365===e?{mmask:Hi,mdaymask:Pt,nmdaymask:Ie,wdaymask:jn.slice(r),mrange:nr}:{mmask:Vi,mdaymask:Bi,nmdaymask:zi,wdaymask:jn.slice(r),mrange:Tt}}(n)),{wnomask:null});if(ze(e.byweekno))return d;d.wnomask=C(0,r+7);var p,b,v=p=Pe(7-h+e.wkst,7);v>=4?(v=0,b=d.yearlen+Pe(h-e.wkst,7)):b=r-v;for(var S=Math.floor(b/7),O=Pe(b,7),x=Math.floor(S+O/4),L=0;L<e.byweekno.length;L++){var U=e.byweekno[L];if(U<0&&(U+=x+1),U>0&&U<=x){var Y=void 0;U>1?(Y=v+7*(U-1),v!==p&&(Y-=7-p)):Y=v;for(var B=0;B<7&&(d.wnomask[Y]=1,Y++,d.wdaymask[Y]!==e.wkst);B++);}}if(te(e.byweekno,1)&&(Y=v+7*x,v!==p&&(Y-=7-p),Y<r))for(L=0;L<7&&(d.wnomask[Y]=1,d.wdaymask[Y+=1]!==e.wkst);L++);if(v){var X=void 0;if(te(e.byweekno,-1))X=-1;else{var F=H.getWeekday(new Date(Date.UTC(n-1,0,1))),Oe=Pe(7-F.valueOf()+e.wkst,7),Wt=H.isLeapYear(n-1)?366:365,lr=void 0;Oe>=4?(Oe=0,lr=Wt+Pe(F-e.wkst,7)):lr=r-v,X=Math.floor(52+Pe(lr,7)/4)}if(te(e.byweekno,X))for(Y=0;Y<v;Y++)d.wnomask[Y]=1}return d}(e,r)),oe(r.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var a=this.yearinfo;this.monthinfo=function(n,e,t,r,a,c){var h={lastyear:n,lastmonth:e,nwdaymask:[]},d=[];if(c.freq===G.YEARLY)if(ze(c.bymonth))d=[[0,t]];else for(var p=0;p<c.bymonth.length;p++)d.push(r.slice((e=c.bymonth[p])-1,e+1));else c.freq===G.MONTHLY&&(d=[r.slice(e-1,e+1)]);if(ze(d))return h;for(h.nwdaymask=C(0,t),p=0;p<d.length;p++)for(var b=d[p],v=b[0],S=b[1]-1,O=0;O<c.bynweekday.length;O++){var x=void 0,L=c.bynweekday[O],U=L[0],Y=L[1];Y<0?(x=S+7*(Y+1),x-=Pe(a[x]-U,7)):(x=v+7*(Y-1),x+=Pe(7-a[x]+U,7)),v<=x&&x<=S&&(h.nwdaymask[x]=1)}return h}(e,t,a.yearlen,a.mrange,a.wdaymask,r)}he(r.byeaster)&&(this.eastermask=function(n,e){void 0===e&&(e=0);var t=n%19,r=Math.floor(n/100),a=n%100,c=Math.floor(r/4),h=r%4,d=Math.floor((r+8)/25),p=Math.floor((r-d+1)/3),b=Math.floor(19*t+r-c-p+15)%30,v=Math.floor(a/4),O=Math.floor(32+2*h+2*v-b-a%4)%7,x=Math.floor((t+11*b+22*O)/451),L=Math.floor((b+O-7*x+114)/31),Y=Date.UTC(n,L-1,(b+O-7*x+114)%31+1+e),B=Date.UTC(n,0,1);return[Math.ceil((Y-B)/864e5)]}(e,r.byeaster))},Object.defineProperty(n.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),n.prototype.ydayset=function(){return[Ze(this.yearlen),0,this.yearlen]},n.prototype.mdayset=function(e,t,r){for(var a=this.mrange[t-1],c=this.mrange[t],h=C(null,this.yearlen),d=a;d<c;d++)h[d]=d;return[h,a,c]},n.prototype.wdayset=function(e,t,r){for(var a=C(null,this.yearlen+7),c=H.toOrdinal(new Date(Date.UTC(e,t-1,r)))-this.yearordinal,h=c,d=0;d<7&&(a[c]=c,++c,this.wdaymask[c]!==this.options.wkst);d++);return[a,h,c]},n.prototype.ddayset=function(e,t,r){var a=C(null,this.yearlen),c=H.toOrdinal(new Date(Date.UTC(e,t-1,r)))-this.yearordinal;return a[c]=c,[a,c,c+1]},n.prototype.htimeset=function(e,t,r,a){var c=this,h=[];return this.options.byminute.forEach(function(d){h=h.concat(c.mtimeset(e,d,r,a))}),H.sort(h),h},n.prototype.mtimeset=function(e,t,r,a){var c=this.options.bysecond.map(function(h){return new Or(e,t,h,a)});return H.sort(c),c},n.prototype.stimeset=function(e,t,r,a){return[new Or(e,t,r,a)]},n.prototype.getdayset=function(e){switch(e){case z.YEARLY:return this.ydayset.bind(this);case z.MONTHLY:return this.mdayset.bind(this);case z.WEEKLY:return this.wdayset.bind(this);case z.DAILY:default:return this.ddayset.bind(this)}},n.prototype.gettimeset=function(e){switch(e){case z.HOURLY:return this.htimeset.bind(this);case z.MINUTELY:return this.mtimeset.bind(this);case z.SECONDLY:return this.stimeset.bind(this)}},n}();function $n(n,e,t,r,a,c){for(var h=[],d=0;d<n.length;d++){var p=void 0,b=void 0,v=n[d];v<0?(p=Math.floor(v/e.length),b=Pe(v,e.length)):(p=Math.floor((v-1)/e.length),b=Pe(v-1,e.length));for(var S=[],O=t;O<r;O++){var x=c[O];!he(x)||S.push(x)}var L;L=p<0?S.slice(p)[0]:S[p];var U=e[b],Y=H.fromOrdinal(a.yearordinal+L),B=H.combine(Y,U);te(h,B)||h.push(B)}return H.sort(h),h}function Yn(n,e){var t=e.dtstart,r=e.freq,c=e.until,h=e.bysetpos,d=e.count;if(0===d||0===e.interval)return nt(n);var p=Li.fromDate(t),b=new en(e);b.rebuild(p.year,p.month);for(var v=function(n,e,t){var r=t.freq,a=t.byhour,c=t.byminute,h=t.bysecond;return Kr(r)?function(n){var e=n.dtstart.getTime()%1e3;if(!Kr(n.freq))return[];var t=[];return n.byhour.forEach(function(r){n.byminute.forEach(function(a){n.bysecond.forEach(function(c){t.push(new Or(r,a,c,e))})})}),t}(t):r>=G.HOURLY&&oe(a)&&!te(a,e.hour)||r>=G.MINUTELY&&oe(c)&&!te(c,e.minute)||r>=G.SECONDLY&&oe(h)&&!te(h,e.second)?[]:n.gettimeset(r)(e.hour,e.minute,e.second,e.millisecond)}(b,p,e);;){var S=b.getdayset(r)(p.year,p.month,p.day),O=S[0],x=S[1],L=S[2],U=K(O,x,L,b,e);if(oe(h))for(var Y=$n(h,v,x,L,b,O),B=0;B<Y.length;B++){var X=Y[B];if(c&&X>c)return nt(n);if(X>=t){var F=$e(X,e);if(!n.accept(F)||d&&!--d)return nt(n)}}else for(B=x;B<L;B++){var Oe=O[B];if(he(Oe))for(var Wt=H.fromOrdinal(b.yearordinal+Oe),lr=0;lr<v.length;lr++){if(X=H.combine(Wt,v[lr]),c&&X>c)return nt(n);if(X>=t&&(F=$e(X,e),!n.accept(F)||d&&!--d))return nt(n)}}if(0===e.interval||(p.add(e,U),p.year>H.MAXYEAR))return nt(n);Kr(r)||(v=b.gettimeset(r)(p.hour,p.minute,p.second,0)),b.rebuild(p.year,p.month)}}function Ki(n,e,t){var r=t.bymonth,a=t.byweekno,c=t.byweekday,h=t.byeaster,d=t.bymonthday,p=t.bynmonthday,b=t.byyearday;return oe(r)&&!te(r,n.mmask[e])||oe(a)&&!n.wnomask[e]||oe(c)&&!te(c,n.wdaymask[e])||oe(n.nwdaymask)&&!n.nwdaymask[e]||null!==h&&!te(n.eastermask,e)||(oe(d)||oe(p))&&!te(d,n.mdaymask[e])&&!te(p,n.nmdaymask[e])||oe(b)&&(e<n.yearlen&&!te(b,e+1)&&!te(b,-n.yearlen+e)||e>=n.yearlen&&!te(b,e+1-n.yearlen)&&!te(b,-n.nextyearlen+e-n.yearlen))}function $e(n,e){return new Er(n,e.tzid).rezonedDate()}function nt(n){return n.getValue()}function K(n,e,t,r,a){for(var c=!1,h=e;h<t;h++){var d=n[h];(c=Ki(r,d,a))&&(n[d]=null)}return c}var Ye={MO:new fe(0),TU:new fe(1),WE:new fe(2),TH:new fe(3),FR:new fe(4),SA:new fe(5),SU:new fe(6)},_r={freq:z.YEARLY,dtstart:null,interval:1,wkst:Ye.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Xi=Object.keys(_r);const G=function(){function n(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),this._cache=t?null:new Wi,this.origOptions=Ln(e);var r=function(n){var e=Fe(Fe({},_r),Ln(n));if(he(e.byeaster)&&(e.freq=G.YEARLY),!he(e.freq)||!G.FREQUENCIES[e.freq])throw new Error("Invalid frequency: "+e.freq+" "+n.freq);if(e.dtstart||(e.dtstart=new Date((new Date).setMilliseconds(0))),he(e.wkst)?je(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=G.MO.weekday,he(e.bysetpos)){je(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++)if(0===(r=e.bysetpos[t])||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(Boolean(e.byweekno)||oe(e.byweekno)||oe(e.byyearday)||Boolean(e.bymonthday)||oe(e.bymonthday)||he(e.byweekday)||he(e.byeaster)))switch(e.freq){case G.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case G.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case G.WEEKLY:e.byweekday=[H.getWeekday(e.dtstart)]}if(he(e.bymonth)&&!Le(e.bymonth)&&(e.bymonth=[e.bymonth]),he(e.byyearday)&&!Le(e.byyearday)&&je(e.byyearday)&&(e.byyearday=[e.byyearday]),he(e.bymonthday))if(Le(e.bymonthday)){var a=[],c=[];for(t=0;t<e.bymonthday.length;t++){var r;(r=e.bymonthday[t])>0?a.push(r):r<0&&c.push(r)}e.bymonthday=a,e.bynmonthday=c}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);else e.bymonthday=[],e.bynmonthday=[];if(he(e.byweekno)&&!Le(e.byweekno)&&(e.byweekno=[e.byweekno]),he(e.byweekday))if(je(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Br(e.byweekday))e.byweekday=[fe.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof fe)!e.byweekday.n||e.freq>G.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{var h=[],d=[];for(t=0;t<e.byweekday.length;t++){var p=e.byweekday[t];je(p)?h.push(p):Br(p)?h.push(fe.fromStr(p).weekday):!p.n||e.freq>G.MONTHLY?h.push(p.weekday):d.push([p.weekday,p.n])}e.byweekday=oe(h)?h:null,e.bynweekday=oe(d)?d:null}else e.bynweekday=null;return he(e.byhour)?je(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<G.HOURLY?[e.dtstart.getUTCHours()]:null,he(e.byminute)?je(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<G.MINUTELY?[e.dtstart.getUTCMinutes()]:null,he(e.bysecond)?je(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<G.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}(e).parsedOptions;this.options=r}return n.parseText=function(e,t){return Nn(e,t)},n.fromText=function(e,t){return function(n,e){return void 0===e&&(e=kr),new re(Nn(n,e)||void 0)}(e,t)},n.fromString=function(e){return new n(n.parseString(e)||void 0)},n.prototype._iter=function(e){return Yn(e,this.options)},n.prototype._cacheGet=function(e,t){return!!this._cache&&this._cache._cacheGet(e,t)},n.prototype._cacheAdd=function(e,t,r){if(this._cache)return this._cache._cacheAdd(e,t,r)},n.prototype.all=function(e){if(e)return this._iter(new bt("all",{},e));var t=this._cacheGet("all");return!1===t&&(t=this._iter(new Ft("all",{})),this._cacheAdd("all",t)),t},n.prototype.between=function(e,t,r,a){if(void 0===r&&(r=!1),!H.isValidDate(e)||!H.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var c={before:t,after:e,inc:r};if(a)return this._iter(new bt("between",c,a));var h=this._cacheGet("between",c);return!1===h&&(h=this._iter(new Ft("between",c)),this._cacheAdd("between",h,c)),h},n.prototype.before=function(e,t){if(void 0===t&&(t=!1),!H.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var r={dt:e,inc:t},a=this._cacheGet("before",r);return!1===a&&(a=this._iter(new Ft("before",r)),this._cacheAdd("before",a,r)),a},n.prototype.after=function(e,t){if(void 0===t&&(t=!1),!H.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var r={dt:e,inc:t},a=this._cacheGet("after",r);return!1===a&&(a=this._iter(new Ft("after",r)),this._cacheAdd("after",a,r)),a},n.prototype.count=function(){return this.all().length},n.prototype.toString=function(){return Xr(this.origOptions)},n.prototype.toText=function(e,t,r){return function(n,e,t,r){return new rt(n,e,t,r).toString()}(this,e,t,r)},n.prototype.isFullyConvertibleToText=function(){return Ni(this)},n.prototype.clone=function(){return new n(this.origOptions)},n.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],n.YEARLY=z.YEARLY,n.MONTHLY=z.MONTHLY,n.WEEKLY=z.WEEKLY,n.DAILY=z.DAILY,n.HOURLY=z.HOURLY,n.MINUTELY=z.MINUTELY,n.SECONDLY=z.SECONDLY,n.MO=Ye.MO,n.TU=Ye.TU,n.WE=Ye.WE,n.TH=Ye.TH,n.FR=Ye.FR,n.SA=Ye.SA,n.SU=Ye.SU,n.parseString=Qr,n.optionsToString=Xr,n}();var tn={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Vn(n,e){return void 0===e&&(e={}),function(n,e){var t=function(n,e){var t=[],r=[],a=[],c=[],h=Dr(n),d=h.dtstart,p=h.tzid;return function(n,e){if(void 0===e&&(e=!1),!(n=n&&n.trim()))throw new Error("Invalid empty string");if(!e)return n.split(/\s/);for(var t=n.split("\n"),r=0;r<t.length;){var a=t[r]=t[r].replace(/\s+$/g,"");a?r>0&&" "===a[0]?(t[r-1]+=a.slice(1),t.splice(r,1)):r+=1:t.splice(r,1)}return t}(n,e.unfold).forEach(function(v){if(v){var S=function(n){var e=function(n){if(-1===n.indexOf(":"))return{name:"RRULE",value:n};var e=function(n,e,t){var r=n.split(":");return r.slice(0,1).concat([r.slice(1).join(":")])}(n);return{name:e[0],value:e[1]}}(n),r=e.value,a=e.name.split(";");if(!a)throw new Error("empty property name");return{name:a[0].toUpperCase(),parms:a.slice(1),value:r}}(v),O=S.name,x=S.parms,L=S.value;switch(O.toUpperCase()){case"RRULE":if(x.length)throw new Error("unsupported RRULE parm: "+x.join(","));t.push(Qr(v));break;case"RDATE":var B=/RDATE(?:;TZID=([^:=]+))?/i.exec(v)[1];B&&!p&&(p=B),r=r.concat(Zn(L,x));break;case"EXRULE":if(x.length)throw new Error("unsupported EXRULE parm: "+x.join(","));a.push(Qr(L));break;case"EXDATE":c=c.concat(Zn(L,x));break;case"DTSTART":break;default:throw new Error("unsupported property: "+O)}}}),{dtstart:d,tzid:p,rrulevals:t,rdatevals:r,exrulevals:a,exdatevals:c}}(n,e),r=t.rrulevals,a=t.rdatevals,c=t.exrulevals,h=t.exdatevals,d=t.dtstart,p=t.tzid,b=!1===e.cache;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||r.length>1||a.length||c.length||h.length){var v=new as(b);return v.dtstart(d),v.tzid(p||void 0),r.forEach(function(O){v.rrule(new G(rn(O,d,p),b))}),a.forEach(function(O){v.rdate(O)}),c.forEach(function(O){v.exrule(new G(rn(O,d,p),b))}),h.forEach(function(O){v.exdate(O)}),e.compatible&&e.dtstart&&v.rdate(d),v}var S=r[0]||{};return new G(rn(S,S.dtstart||e.dtstart||d,S.tzid||e.tzid||p),b)}(n,function(n){var e=[],t=Object.keys(n),r=Object.keys(tn);if(t.forEach(function(a){te(r,a)||e.push(a)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Fe(Fe({},tn),n)}(e))}function rn(n,e,t){return Fe(Fe({},n),{dtstart:e,tzid:t})}function Zn(n,e){return function(n){n.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}(e),n.split(",").map(function(t){return H.untilStringToDate(t)})}function Bn(n){var e=this;return function(t){if(void 0!==t&&(e["_"+n]=t),void 0!==e["_"+n])return e["_"+n];for(var r=0;r<e._rrule.length;r++){var a=e._rrule[r].origOptions[n];if(a)return a}}}const as=function(n){function e(t){void 0===t&&(t=!1);var r=n.call(this,{},t)||this;return r.dtstart=Bn.apply(r,["dtstart"]),r.tzid=Bn.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return Gr(e,n),e.prototype._iter=function(t){return function(n,e,t,r,a,c){var h={},d=n.accept;function p(O,x){t.forEach(function(L){L.between(O,x,!0).forEach(function(U){h[Number(U)]=!0})})}a.forEach(function(O){var x=new Er(O,c).rezonedDate();h[Number(x)]=!0}),n.accept=function(O){var x=Number(O);return isNaN(x)?d.call(this,O):!(!h[x]&&(p(new Date(x-1),new Date(x+1)),!h[x]))||(h[x]=!0,d.call(this,O))},"between"===n.method&&(p(n.args.after,n.args.before),n.accept=function(O){var x=Number(O);return!!h[x]||(h[x]=!0,d.call(this,O))});for(var b=0;b<r.length;b++){var v=new Er(r[b],c).rezonedDate();if(!n.accept(new Date(v.getTime())))break}e.forEach(function(O){Yn(n,O.options)});var S=n._result;switch(H.sort(S),n.method){case"all":case"between":return S;case"before":return S.length&&S[S.length-1]||null;case"after":default:return S.length&&S[0]||null}}(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){sn(t,this._rrule)},e.prototype.exrule=function(t){sn(t,this._exrule)},e.prototype.rdate=function(t){an(t,this._rdate)},e.prototype.exdate=function(t){an(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Vn(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Vn(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Xr({dtstart:this._dtstart}))),this._rrule.forEach(function(r){t=t.concat(r.toString().split("\n"))}),this._exrule.forEach(function(r){t=t.concat(r.toString().split("\n").map(function(a){return a.replace(/^RRULE:/,"EXRULE:")}).filter(function(a){return!/^DTSTART/.test(a)}))}),this._rdate.length&&t.push(Re("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(Re("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join("\n")},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(r){return t.rrule(r.clone())}),this._exrule.forEach(function(r){return t.exrule(r.clone())}),this._rdate.forEach(function(r){return t.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return t.exdate(new Date(r.getTime()))}),t},e}(G);function sn(n,e){if(!(n instanceof G))throw new TypeError(String(n)+" is not RRule instance");te(e.map(String),String(n))||e.push(n)}function an(n,e){if(!(n instanceof Date))throw new TypeError(String(n)+" is not Date instance");te(e.map(Number),Number(n))||(e.push(n),H.sort(e))}function Re(n,e,t){var r=!t||"UTC"===t.toUpperCase();return(r?n+":":n+";TZID="+t+":")+e.map(function(h){return H.timeToUntilString(h.valueOf(),r)}).join(",")}const re=G,zn=[{day:4,slots:[{interval:15,start:{hour:17,minute:0,second:0},end:{hour:18,minute:45,second:0}}]},{day:0,slots:[{interval:15,start:{hour:10,minute:15,second:0},end:{hour:11,minute:30,second:0}},{interval:15,start:{hour:15,minute:0,second:0},end:{hour:16,minute:30,second:0}}]}];function on(n){const e=n.getDay(),t=zn.filter(a=>a.day===e);let r=[];return t&&t.length&&t.forEach(a=>{a.slots.forEach(c=>{const h=new Date(n.getFullYear(),n.getMonth(),n.getDate(),c.start.hour,c.start.minute,c.start.second),d=new Date(n.getFullYear(),n.getMonth(),n.getDate(),c.end.hour,c.end.minute,c.end.second),p=new re({freq:z.MINUTELY,interval:c.interval,dtstart:h,until:d}).all();r=r.concat(p)})}),r}var g=V(3018),Gn=V(7993);let xr=(()=>{class n{constructor(t,r){this.auth=t,this.cd=r,this.selectedDate=new Date,this.selectedDate$=new J.X(this.selectedDate),this.selectedDateSchedule$=new J.X([]),this.bookedAppointments=[],this.datepickerOptions={todayHighlight:!0,beforeShowDay:this.beforeShowDay,datesDisabled:[],minDate:new Date},ke.collection$.subscribe(a=>{this.bookedAppointments=a})}ngOnInit(){this.isLoggedIn=this.auth.isLoggedIn(),console.log("isLoggedIn",this.isLoggedIn),this.selectedDateSchedule$.next(this.buildDayTimeEntries(new Date)),this.cd.detectChanges()}changeDate(t){const r=t.detail.date;this.selectedDate=r,this.selectedDate$.next(r),this.selectedDateSchedule$.next(this.buildDayTimeEntries(r)),this.cd.detectChanges()}buildDayTimeEntries(t){return on(t).map(a=>({date:a,appointment:this.bookedAppointments.find(c=>new Date(c.start_at).getTime()===a.getTime())}))}beforeShowDay(t){const r=[],a=on(t),c=Lt.getItem("Appointments"),h=a.map(v=>({date:v,appointment:c?c.find(S=>new Date(S.start_at).getTime()===v.getTime()):[]})),d=!!h.filter(v=>v.appointment).length,p=h.filter(v=>v.appointment).length===a.length,b=-1!==[1,2,3,5,6].indexOf(t.getDay());return d&&r.push("has-bookings"),p&&!b&&r.push("is-full"),-1!==[1,2,3,5,6].indexOf(t.getDay())?r.push("disabled"):r.push(p&&!b?"is-full":"is-open"),{classes:r.join(" ")}}onFormSubmit(t){this.selectedDateSchedule$.next(this.buildDayTimeEntries(this.selectedDate)),this.cd.detectChanges()}onFormDelete(t){this.selectedDateSchedule$.next(this.buildDayTimeEntries(this.selectedDate)),this.cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Gn.e),g.Y36(g.sBO))},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-appointments"]],decls:8,vars:6,consts:[[1,"l41-container","container","pt-4","mrg-horizon-auto"],[1,"h4","mb-3"],[3,"options","elementId","changeDate"],[3,"selectedFormDate","selectedDateSchedule","onFormSubmit","onFormDelete"]],template:function(t,r){1&t&&(g._UZ(0,"lehi41-navigation"),g.TgZ(1,"div",0),g.TgZ(2,"h1",1),g._uU(3,"Bishopric Appointment Scheduler"),g.qZA(),g.TgZ(4,"lehi41-datepicker",2),g.NdJ("changeDate",function(c){return r.changeDate(c)}),g.qZA(),g.TgZ(5,"lehi41-appointment-list",3),g.NdJ("onFormSubmit",function(c){return r.onFormSubmit(c)})("onFormDelete",function(c){return r.onFormDelete(c)}),g.ALo(6,"async"),g.qZA(),g.qZA(),g._UZ(7,"lehi41-footer")),2&t&&(g.xp6(4),g.Q6J("options",r.datepickerOptions)("elementId","appointment-date-picker"),g.xp6(1),g.Q6J("selectedFormDate",r.selectedFormDate)("selectedDateSchedule",g.lcZ(6,4,r.selectedDateSchedule$)))},styles:[""]}),n})();const Jn=[{path:"",component:xr}];let os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ne.Bz.forChild(Jn)],ne.Bz]}),n})();var us=V(4659),Kn=V(8487),$t=(()=>(function(n){n.Email="email",n.Password="password",n.Text="text"}($t||($t={})),$t))(),le=V(665);function Qn(n,e){if(1&n&&(g.TgZ(0,"label",3),g._uU(1),g.qZA()),2&n){const t=g.oxw();g.s9C("for",t.formItem.name),g.xp6(1),g.hij(" ",t.formItem.label," ")}}let Ir=(()=>{class n{ngOnInit(){const t=[];this.formItem.required&&t.push(le.kI.required),this.control=new le.NI(this.formItem.defaultValue,t),this.formGroup.addControl(this.formItem.name,this.control)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-mmi-input"]],inputs:{formItem:"formItem",formGroup:"formGroup"},decls:3,vars:9,consts:[[3,"formGroup"],[3,"for",4,"ngIf"],[3,"id","className","type","placeholder","formControlName"],[3,"for"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,Qn,2,2,"label",1),g._UZ(2,"input",2),g.qZA()),2&t&&(g.ekj("disabled",r.formItem.disabled),g.Q6J("formGroup",r.formGroup),g.xp6(1),g.Q6J("ngIf",r.formItem.label),g.xp6(1),g.Q6J("id",r.formItem.name)("className",r.formItem.cssClass)("type",r.formItem.type)("placeholder",r.formItem.placeholder?r.formItem.placeholder:"")("formControlName",r.formItem.name))},directives:[le.JL,le.sg,ie.O5,le.Fj,le.JJ,le.u],encapsulation:2}),n})();function un(n,e){if(1&n&&(g.TgZ(0,"label",5),g._uU(1),g.qZA()),2&n){const t=g.oxw();g.s9C("for",t.formItem.name),g.xp6(1),g.hij(" ",t.formItem.label," ")}}function ar(n,e){if(1&n&&(g.TgZ(0,"option",6),g._uU(1),g.qZA()),2&n){const t=e.$implicit;g.Q6J("ngValue",t.value),g.xp6(1),g.hij(" ",t.key," ")}}let Xn=(()=>{class n{ngOnInit(){const t=[];this.formItem.required&&t.push(le.kI.required),this.control=new le.NI(this.formItem.defaultValue,t),this.formGroup.addControl(this.formItem.name,this.control)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-mmi-select"]],inputs:{formItem:"formItem",formGroup:"formGroup"},decls:6,vars:9,consts:[[3,"formGroup"],[3,"for",4,"ngIf"],[3,"id","className","formControlName"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"for"],[3,"ngValue"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,un,2,2,"label",1),g.TgZ(2,"select",2),g.TgZ(3,"option",3),g._uU(4),g.qZA(),g.YNc(5,ar,2,2,"option",4),g.qZA(),g.qZA()),2&t&&(g.ekj("disabled",r.formItem.disabled),g.Q6J("formGroup",r.formGroup),g.xp6(1),g.Q6J("ngIf",r.formItem.label),g.xp6(1),g.Q6J("id",r.formItem.name)("className",r.formItem.cssClass)("formControlName",r.formItem.name),g.xp6(2),g.Oqu(r.formItem.firstOptionLabel),g.xp6(1),g.Q6J("ngForOf",r.formItem.options))},directives:[le.JL,le.sg,ie.O5,le.EJ,le.JJ,le.u,le.YN,le.Kr,ie.sg],encapsulation:2}),n})();function ei(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"button",6),g.NdJ("click",function(){return g.CHM(t),g.oxw().delete()}),g._uU(1," Delete "),g.qZA()}}function Mr(n,e){1&n&&(g.TgZ(0,"span"),g._uU(1,"Update"),g.qZA())}function ti(n,e){1&n&&(g.TgZ(0,"span"),g._uU(1,"Create"),g.qZA())}let or=(()=>{class n{constructor(t,r,a){this.router=t,this.fb=r,this.cd=a,this.onSubmit=new g.vpe,this.onDelete=new g.vpe,this.appointmentForm={personName:{defaultValue:"",name:"personName",placeholder:"Name",required:!0,type:$t.Text,cssClass:"form-control"},personPhone:{defaultValue:"",name:"personPhone",placeholder:"Cell Phone Number",required:!0,type:$t.Text,cssClass:"form-control"},purpose:{defaultValue:"",name:"purpose",required:!0,cssClass:"form-control",firstOptionLabel:"Appointment purpose",options:[{key:"Personal",value:"personal"},{key:"Calling",value:"calling"},{key:"Endorsement",value:"endorsement"},{key:"Temple Recommend",value:"temple-recommend"}]}},this.getLocalISOString=c=>{const h=c.getTimezoneOffset(),d=Math.abs(h),p=c.getTime()-60*h*1e3;return`${new Date(p).toISOString().slice(0,-1)}${h>0?"-":"+"}${String(Math.floor(d/60)).padStart(2,"0")}:${String(d%60).padStart(2,"0")}`},this.addMinutes=(c,h)=>new Date(c.getTime()+6e4*h),this.formGroup=this.fb.group({})}ngOnInit(){}ngOnChanges(t){var r;if(null===(r=null==t?void 0:t.appointment)||void 0===r?void 0:r.currentValue){this.cd.detectChanges();const a=t.appointment.currentValue;this.formGroup.controls[this.appointmentForm.personName.name].setValue(a.person_name),this.formGroup.controls[this.appointmentForm.purpose.name].setValue(a.purpose),this.formGroup.controls[this.appointmentForm.personPhone.name].setValue(a.person_phone)}}submit(){this.appointment?this.updateAppointment():this.createAppointment()}createAppointment(){ke.createItem({person_name:this.formGroup.controls.personName.value,purpose:this.formGroup.controls.purpose.value,person_phone:this.formGroup.controls.personPhone.value.replace(/\D/g,""),start_at:this.getLocalISOString(this.dateTime),end_at:this.getLocalISOString(this.addMinutes(this.dateTime,15)),updated_at:this.getLocalISOString(new Date)}).then(t=>this.onSubmit.emit({success:!0,message:"Appointment creation successful",data:t})).catch(t=>this.onSubmit.emit({success:!1,message:"Appointment creation failed",data:t})),this.cd.detectChanges()}updateAppointment(){ke.updateItem(this.appointment.id,{person_name:this.formGroup.controls.personName.value,purpose:this.formGroup.controls.purpose.value,person_phone:this.formGroup.controls.personPhone.value.replace(/\D/g,""),start_at:this.getLocalISOString(this.dateTime),end_at:this.getLocalISOString(this.addMinutes(this.dateTime,15)),updated_at:this.getLocalISOString(new Date)}).then(t=>this.onSubmit.emit({success:!0,message:"Appointment creation successful",data:t})).catch(t=>this.onSubmit.emit({success:!1,message:"Appointment creation failed",data:t})),this.cd.detectChanges()}delete(){ke.deleteItem(this.appointment.id).then(t=>{this.onDelete.emit({success:!0,message:"Appointment delete successful",data:t})}).catch(t=>this.onSubmit.emit({success:!1,message:"Appointment delete failed",data:t})),this.cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ne.F0),g.Y36(le.qu),g.Y36(g.sBO))},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-appointment-form"]],inputs:{dateTime:"dateTime",appointment:"appointment"},outputs:{onSubmit:"onSubmit",onDelete:"onDelete"},features:[g.TTD],decls:11,vars:18,consts:[[1,"form-group","mrg-top-20"],[3,"formGroup","formItem"],[1,"form-group"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g._UZ(1,"lehi41-mmi-input",1),g.qZA(),g.TgZ(2,"div",2),g._UZ(3,"lehi41-mmi-input",1),g.qZA(),g.TgZ(4,"div",2),g._UZ(5,"lehi41-mmi-select",1),g.qZA(),g.TgZ(6,"div"),g.YNc(7,ei,2,0,"button",3),g.TgZ(8,"button",4),g.NdJ("click",function(){return r.submit()}),g.YNc(9,Mr,2,0,"span",5),g.YNc(10,ti,2,0,"span",5),g.qZA(),g.qZA()),2&t&&(g.xp6(1),g.Q6J("formGroup",r.formGroup)("formItem",r.appointmentForm.personName),g.xp6(2),g.Q6J("formGroup",r.formGroup)("formItem",r.appointmentForm.personPhone),g.xp6(2),g.Q6J("formGroup",r.formGroup)("formItem",r.appointmentForm.purpose),g.xp6(1),g.ekj("text-right",!r.appointment)("d-flex",r.appointment)("justify-content-between",r.appointment),g.xp6(1),g.Q6J("ngIf",r.appointment),g.xp6(1),g.ekj("disabled","INVALID"===r.formGroup.status),g.Q6J("disabled","INVALID"===r.formGroup.status),g.xp6(1),g.Q6J("ngIf",r.appointment),g.xp6(1),g.Q6J("ngIf",!r.appointment))},directives:[Ir,le.JL,le.sg,Xn,ie.O5],encapsulation:2}),n})();function Yt(n,e){if(1&n&&(g.TgZ(0,"div",9),g._uU(1),g.qZA()),2&n){const t=g.oxw().$implicit;g.xp6(1),g.hij(" ",t.appointment.person_name," ")}}function ri(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"lehi41-appointment-form",10),g.NdJ("onSubmit",function(a){return g.CHM(t),g.oxw(2).submit(a)})("onDelete",function(a){return g.CHM(t),g.oxw(2).submit(a)}),g.qZA(),g.qZA()}if(2&n){const t=g.oxw().$implicit;g.xp6(1),g.Q6J("appointment",t.appointment)("dateTime",t.date)}}function ni(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"li",2),g.TgZ(1,"div",3),g.TgZ(2,"div",4),g._uU(3),g.ALo(4,"date"),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,Yt,2,1,"div",5),g.TgZ(7,"button",6),g.NdJ("click",function(){const c=g.CHM(t).$implicit;return g.oxw().toggleForm(c.date)}),g._UZ(8,"i",7),g.qZA(),g.qZA(),g.qZA(),g.YNc(9,ri,2,2,"div",8),g.qZA()}if(2&n){const t=e.$implicit,r=g.oxw();g.xp6(3),g.hij(" ",g.xi3(4,3,t.date,"h:mm:ss a")," "),g.xp6(3),g.Q6J("ngIf",t.appointment),g.xp6(3),g.Q6J("ngIf",r.formShow[t.date.getTime()])}}let ls=(()=>{class n{constructor(t){this.cd=t,this.onFormSubmit=new g.vpe,this.onFormDelete=new g.vpe,this.formShow={}}ngOnInit(){}toggleForm(t){const r=t.getTime().toString();this.selectedFormDate=t;for(let a in this.formShow)a.toString()!==r.toString()&&(this.formShow[a]=!1);return this.formShow[r]=!this.formShow[r],this.formShow[r]}submit(t){this.toggleForm(this.selectedFormDate),this.onFormSubmit.emit(t),this.cd.detectChanges()}delete(t){this.toggleForm(this.selectedFormDate),this.onFormDelete.emit(t),this.cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.sBO))},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-appointment-list"]],inputs:{selectedFormDate:"selectedFormDate",selectedDateSchedule:"selectedDateSchedule"},outputs:{onFormSubmit:"onFormSubmit",onFormDelete:"onFormDelete"},decls:2,vars:1,consts:[[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["class","mrg-right-10",4,"ngIf"],[1,"book-button","btn","btn-sm","btn-light",3,"click"],[1,"fas","fa-ellipsis-v"],[4,"ngIf"],[1,"mrg-right-10"],[3,"appointment","dateTime","onSubmit","onDelete"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,ni,10,6,"li",1),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngForOf",r.selectedDateSchedule))},directives:[ie.sg,ie.O5,or],pipes:[ie.uU],styles:[""]}),n})(),cs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ie.ez,le.UX,le.u5]]}),n})();var ii=V(1525);function it(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ln(n){return n[n.length-1]}function lt(n,...e){return e.forEach(t=>{n.includes(t)||n.push(t)}),n}function Ar(n,e){return n?n.split(e):[]}function Cr(n,e,t){return(void 0===e||n>=e)&&(void 0===t||n<=t)}function me(n,e,t){return n<e?e:n>t?t:n}function Ge(n,e,t={},r=0,a=""){a+=`<${Object.keys(t).reduce((d,p)=>{let b=t[p];return"function"==typeof b&&(b=b(r)),`${d} ${p}="${b}"`},n)}></${n}>`;const h=r+1;return h<e?Ge(n,e,t,h,a):a}function cn(n){return n.replace(/>\s+/g,">").replace(/\s+</,"<")}function s(n){return new Date(n).setHours(0,0,0,0)}function l(){return(new Date).setHours(0,0,0,0)}function o(...n){switch(n.length){case 0:return l();case 1:return s(n[0])}const e=new Date(0);return e.setFullYear(...n),e.setHours(0,0,0,0)}function i(n,e){const t=new Date(n);return t.setDate(t.getDate()+e)}function f(n,e){const t=new Date(n),r=t.getMonth()+e;let a=r%12;a<0&&(a+=12);const c=t.setMonth(r);return t.getMonth()!==a?t.setDate(0):c}function m(n,e){const t=new Date(n),r=t.getMonth(),a=t.setFullYear(t.getFullYear()+e);return 1===r&&2===t.getMonth()?t.setDate(0):a}function y(n,e){return(n-e+7)%7}function w(n,e,t=0){const r=new Date(n).getDay();return i(n,y(e,t)-y(r,t))}function E(n,e){const t=new Date(n).getFullYear();return Math.floor(t/e)*e}const D=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,_=/[\s!-/:-@[-`{-~\u5e74\u6708\u65e5]+/;let A={};const N={y:(n,e)=>new Date(n).setFullYear(parseInt(e,10)),m(n,e,t){const r=new Date(n);let a=parseInt(e,10)-1;if(isNaN(a)){if(!e)return NaN;const c=e.toLowerCase(),h=d=>d.toLowerCase().startsWith(c);if(a=t.monthsShort.findIndex(h),a<0&&(a=t.months.findIndex(h)),a<0)return NaN}return r.setMonth(a),r.getMonth()!==$(a)?r.setDate(0):r.getTime()},d:(n,e)=>new Date(n).setDate(parseInt(e,10))},P={d:n=>n.getDate(),dd:n=>R(n.getDate(),2),D:(n,e)=>e.daysShort[n.getDay()],DD:(n,e)=>e.days[n.getDay()],m:n=>n.getMonth()+1,mm:n=>R(n.getMonth()+1,2),M:(n,e)=>e.monthsShort[n.getMonth()],MM:(n,e)=>e.months[n.getMonth()],y:n=>n.getFullYear(),yy:n=>R(n.getFullYear(),2).slice(-2),yyyy:n=>R(n.getFullYear(),4)};function $(n){return n>-1?n%12:$(n+12)}function R(n,e){return n.toString().padStart(e,"0")}function Me(n){if("string"!=typeof n)throw new Error("Invalid date format.");if(n in A)return A[n];const e=n.split(D),t=n.match(new RegExp(D,"g"));if(0===e.length||!t)throw new Error("Invalid date format.");const r=t.map(c=>P[c]),a=Object.keys(N).reduce((c,h)=>(t.find(p=>"D"!==p[0]&&p[0].toLowerCase()===h)&&c.push(h),c),[]);return A[n]={parser(c,h){const d=c.split(_).reduce((p,b,v)=>{if(b.length>0&&t[v]){const S=t[v][0];"M"===S?p.m=b:"D"!==S&&(p[S]=b)}return p},{});return a.reduce((p,b)=>{const v=N[b](p,d[b],h);return isNaN(v)?p:v},l())},formatter:(c,h)=>r.reduce((p,b,v)=>p+`${e[v]}${b(c,h)}`,"")+ln(e)}}function kt(n,e,t){if(n instanceof Date||"number"==typeof n){const r=s(n);return isNaN(r)?void 0:r}if(n){if("today"===n)return l();if(e&&e.toValue){const r=e.toValue(n,e,t);return isNaN(r)?void 0:s(r)}return Me(e).parser(n,t)}}function Ot(n,e,t){if(isNaN(n)||!n&&0!==n)return"";const r="number"==typeof n?new Date(n):n;return e.toDisplay?e.toDisplay(r,e,t):Me(e).formatter(r,t)}const ct=new WeakMap,{addEventListener:fs,removeEventListener:hs}=EventTarget.prototype;function fn(n,e){let t=ct.get(n);t||(t=[],ct.set(n,t)),e.forEach(r=>{fs.call(...r),t.push(r)})}if(!Event.prototype.composedPath){const n=(e,t=[])=>{let r;return t.push(e),e.parentNode?r=e.parentNode:e.host?r=e.host:e.defaultView&&(r=e.defaultView),r?n(r,t):t};Event.prototype.composedPath=function(){return n(this.target)}}function hn(n,e,t,r=0){const a=n[r];return e(a)?a:a!==t&&a.parentElement?hn(n,e,t,r+1):void 0}function si(n,e){const t="function"==typeof e?e:r=>r.matches(e);return hn(n.composedPath(),t,n.currentTarget)}const ur={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},ms={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"\xbb",orientation:"auto",pickLevel:0,prevArrow:"\xab",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},Hs=document.createRange();function Dt(n){return Hs.createContextualFragment(n)}function dn(n){"none"!==n.style.display&&(n.style.display&&(n.dataset.styleDisplay=n.style.display),n.style.display="none")}function mn(n){"none"===n.style.display&&(n.dataset.styleDisplay?(n.style.display=n.dataset.styleDisplay,delete n.dataset.styleDisplay):n.style.display="")}function oi(n){n.firstChild&&(n.removeChild(n.firstChild),oi(n))}const{language:ys,format:Zs,weekStart:Bs}=ms;function xs(n,e){return n.length<6&&e>=0&&e<7?lt(n,e):n}function Is(n){return(n+6)%7}function Ms(n,e,t,r){const a=kt(n,e,t);return void 0!==a?a:r}function ps(n,e,t=3){const r=parseInt(n,10);return r>=0&&r<=t?r:e}function vs(n,e){const t=Object.assign({},n),r={},a=e.constructor.locales;let{format:c,language:h,locale:d,maxDate:p,maxView:b,minDate:v,pickLevel:S,startView:O,weekStart:x}=e.config||{};if(t.language){let F;if(t.language!==h&&(a[t.language]?F=t.language:(F=t.language.split("-")[0],void 0===a[F]&&(F=!1))),delete t.language,F){h=r.language=F;const Oe=d||a[ys];d=Object.assign({format:Zs,weekStart:Bs},a[ys]),h!==ys&&Object.assign(d,a[h]),r.locale=d,c===Oe.format&&(c=r.format=d.format),x===Oe.weekStart&&(x=r.weekStart=d.weekStart,r.weekEnd=Is(d.weekStart))}}if(t.format){const F="function"==typeof t.format.toDisplay,Oe="function"==typeof t.format.toValue,Wt=D.test(t.format);(F&&Oe||Wt)&&(c=r.format=t.format),delete t.format}let L=v,U=p;if(void 0!==t.minDate&&(L=null===t.minDate?o(0,0,1):Ms(t.minDate,c,d,L),delete t.minDate),void 0!==t.maxDate&&(U=null===t.maxDate?void 0:Ms(t.maxDate,c,d,U),delete t.maxDate),U<L?(v=r.minDate=U,p=r.maxDate=L):(v!==L&&(v=r.minDate=L),p!==U&&(p=r.maxDate=U)),t.datesDisabled&&(r.datesDisabled=t.datesDisabled.reduce((F,Oe)=>{const Wt=kt(Oe,c,d);return void 0!==Wt?lt(F,Wt):F},[]),delete t.datesDisabled),void 0!==t.defaultViewDate){const F=kt(t.defaultViewDate,c,d);void 0!==F&&(r.defaultViewDate=F),delete t.defaultViewDate}if(void 0!==t.weekStart){const F=Number(t.weekStart)%7;isNaN(F)||(x=r.weekStart=F,r.weekEnd=Is(F)),delete t.weekStart}if(t.daysOfWeekDisabled&&(r.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(xs,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(r.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(xs,[]),delete t.daysOfWeekHighlighted),void 0!==t.maxNumberOfDates){const F=parseInt(t.maxNumberOfDates,10);F>=0&&(r.maxNumberOfDates=F,r.multidate=1!==F),delete t.maxNumberOfDates}t.dateDelimiter&&(r.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let Y=S;void 0!==t.pickLevel&&(Y=ps(t.pickLevel,2),delete t.pickLevel),Y!==S&&(S=r.pickLevel=Y);let B=b;void 0!==t.maxView&&(B=ps(t.maxView,b),delete t.maxView),B=S>B?S:B,B!==b&&(b=r.maxView=B);let X=O;if(void 0!==t.startView&&(X=ps(t.startView,X),delete t.startView),X<S?X=S:X>b&&(X=b),X!==O&&(r.startView=X),t.prevArrow){const F=Dt(t.prevArrow);F.childNodes.length>0&&(r.prevArrow=F.childNodes),delete t.prevArrow}if(t.nextArrow){const F=Dt(t.nextArrow);F.childNodes.length>0&&(r.nextArrow=F.childNodes),delete t.nextArrow}if(void 0!==t.disableTouchKeyboard&&(r.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){const F=t.orientation.toLowerCase().split(/\s+/g);r.orientation={x:F.find(Oe=>"left"===Oe||"right"===Oe)||"auto",y:F.find(Oe=>"top"===Oe||"bottom"===Oe)||"auto"},delete t.orientation}if(void 0!==t.todayBtnMode){switch(t.todayBtnMode){case 0:case 1:r.todayBtnMode=t.todayBtnMode}delete t.todayBtnMode}return Object.keys(t).forEach(F=>{void 0!==t[F]&&it(ms,F)&&(r[F]=t[F])}),r}const qs=cn('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),zs=cn(`<div class="days">\n  <div class="days-of-week">${Ge("span",7,{class:"dow"})}</div>\n  <div class="datepicker-grid">${Ge("span",42)}</div>\n</div>`),Gs=cn(`<div class="calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">${Ge("span",6,{class:"week"})}</div>\n</div>`);class gs{constructor(e,t){Object.assign(this,t,{picker:e,element:Dt('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}performBeforeHook(e,t,r){let a=this.beforeShow(new Date(r));switch(typeof a){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){if(!1===a.enabled&&(e.classList.add("disabled"),lt(this.disabled,t)),a.classes){const c=a.classes.split(/\s+/);e.classList.add(...c),c.includes("disabled")&&lt(this.disabled,t)}a.content&&function(n,e){oi(n),e instanceof DocumentFragment?n.appendChild(e):"string"==typeof e?n.appendChild(Dt(e)):"function"==typeof e.forEach&&e.forEach(t=>{n.appendChild(t)})}(e,a.content)}}}class Js extends gs{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const r=Dt(zs).firstChild;this.dow=r.firstChild,this.grid=r.lastChild,this.element.appendChild(r)}super.init(e)}setOptions(e){let t;if(it(e,"minDate")&&(this.minDate=e.minDate),it(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const r=this.locale=e.locale;this.dayNames=r.daysMin,this.switchLabelFormat=r.titleFormat,t=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks)if(e.calendarWeeks&&!this.calendarWeeks){const r=Dt(Gs).firstChild;this.calendarWeeks={element:r,dow:r.firstChild,weeks:r.lastChild},this.element.insertBefore(r,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(mn(this.dow),this.calendarWeeks&&mn(this.calendarWeeks.dow)):(dn(this.dow),this.calendarWeeks&&dn(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((r,a)=>{const c=(this.weekStart+a)%7;r.textContent=this.dayNames[c],r.className=this.daysOfWeekDisabled.includes(c)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),r=e.getMonth(),a=o(t,r,1),c=w(a,this.weekStart,this.weekStart);this.first=a,this.last=o(t,r+1,0),this.start=c,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){this.today=this.todayHighlight?l():void 0,this.disabled=[...this.datesDisabled];const e=Ot(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const t=w(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((r,a)=>{r.textContent=function(n){const e=w(n,4,1),t=w(new Date(e).setMonth(0,4),4,1);return Math.round((e-t)/6048e5)+1}(function(n,e){return i(n,7*e)}(t,a))})}Array.from(this.grid.children).forEach((t,r)=>{const a=t.classList,c=i(this.start,r),h=new Date(c),d=h.getDay();if(t.className=`datepicker-cell ${this.cellClass}`,t.dataset.date=c,t.textContent=h.getDate(),c<this.first?a.add("prev"):c>this.last&&a.add("next"),this.today===c&&a.add("today"),(c<this.minDate||c>this.maxDate||this.disabled.includes(c))&&a.add("disabled"),this.daysOfWeekDisabled.includes(d)&&(a.add("disabled"),lt(this.disabled,c)),this.daysOfWeekHighlighted.includes(d)&&a.add("highlighted"),this.range){const[p,b]=this.range;c>p&&c<b&&a.add("range"),c===p&&a.add("range-start"),c===b&&a.add("range-end")}this.selected.includes(c)&&a.add("selected"),c===this.focused&&a.add("focused"),this.beforeShow&&this.performBeforeHook(t,c,c)})}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(r=>{r.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(r=>{const a=Number(r.dataset.date),c=r.classList;a>e&&a<t&&c.add("range"),a===e&&c.add("range-start"),a===t&&c.add("range-end"),this.selected.includes(a)&&c.add("selected"),a===this.focused&&c.add("focused")})}refreshFocus(){const e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function As(n,e){if(!n||!n[0]||!n[1])return;const[[t,r],[a,c]]=n;return t>e||a<e?void 0:[t===e?r:-1,a===e?c:12]}class Ks extends gs{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(Dt(Ge("span",12,{"data-month":r=>r})))),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),it(e,"minDate"))if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if(it(e,"maxDate"))if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=o(this.maxYear,this.maxMonth+1,0)}void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((r,a)=>{const c=new Date(a),h=c.getFullYear(),d=c.getMonth();return void 0===r[h]?r[h]=[d]:lt(r[h],d),r},{}),t&&t.dates&&(this.range=t.dates.map(r=>{const a=new Date(r);return isNaN(a)?void 0:[a.getFullYear(),a.getMonth()]}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,r=this.year===this.minYear,a=this.year===this.maxYear,c=As(this.range,this.year);Array.from(this.grid.children).forEach((h,d)=>{const p=h.classList,b=o(this.year,d,1);if(h.className=`datepicker-cell ${this.cellClass}`,this.isMinView&&(h.dataset.date=b),h.textContent=this.monthNames[d],(t||r&&d<this.minMonth||a&&d>this.maxMonth)&&p.add("disabled"),c){const[v,S]=c;d>v&&d<S&&p.add("range"),d===v&&p.add("range-start"),d===S&&p.add("range-end")}e.includes(d)&&p.add("selected"),d===this.focused&&p.add("focused"),this.beforeShow&&this.performBeforeHook(h,d,b)})}refresh(){const e=this.selected[this.year]||[],[t,r]=As(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(a=>{a.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach((a,c)=>{const h=a.classList;c>t&&c<r&&h.add("range"),c===t&&h.add("range-start"),c===r&&h.add("range-end"),e.includes(c)&&h.add("selected"),c===this.focused&&h.add("focused")})}refreshFocus(){this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}class Cs extends gs{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=10*this.step,this.beforeShowOption=`beforeShow${function(n){return[...n].reduce((e,t,r)=>e+(r?t:t.toUpperCase()),"")}(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(Dt(Ge("span",12)))),super.init(e)}setOptions(e){if(it(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=E(e.minDate,this.step),this.minDate=o(this.minYear,0,1))),it(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=E(e.maxDate,this.step),this.maxDate=o(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){const t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=E(e,this.navStep),r=t+9*this.step;this.first=t,this.last=r,this.start=t-this.step,this.focused=E(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((r,a)=>lt(r,E(a,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(r=>{if(void 0!==r)return E(r,this.step)}))}render(){this.disabled=[],this.picker.setViewSwitchLabel(`${this.first}-${this.last}`),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{const r=e.classList,a=this.start+t*this.step,c=o(a,0,1);if(e.className=`datepicker-cell ${this.cellClass}`,this.isMinView&&(e.dataset.date=c),e.textContent=e.dataset.year=a,0===t?r.add("prev"):11===t&&r.add("next"),(a<this.minYear||a>this.maxYear)&&r.add("disabled"),this.range){const[h,d]=this.range;a>h&&a<d&&r.add("range"),a===h&&r.add("range-start"),a===d&&r.add("range-end")}this.selected.includes(a)&&r.add("selected"),a===this.focused&&r.add("focused"),this.beforeShow&&this.performBeforeHook(e,a,c)})}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(r=>{r.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(r=>{const a=Number(r.textContent),c=r.classList;a>e&&a<t&&c.add("range"),a===e&&c.add("range-start"),a===t&&c.add("range-end"),this.selected.includes(a)&&c.add("selected"),a===this.focused&&c.add("focused")})}refreshFocus(){const e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function Nr(n,e){const t={date:n.getDate(),viewDate:new Date(n.picker.viewDate),viewId:n.picker.currentView.id,datepicker:n};n.element.dispatchEvent(new CustomEvent(e,{detail:t}))}function ui(n,e){const{minDate:t,maxDate:r}=n.config,{currentView:a,viewDate:c}=n.picker;let h;switch(a.id){case 0:h=f(c,e);break;case 1:h=m(c,e);break;default:h=m(c,e*a.navStep)}h=me(h,t,r),n.picker.changeFocus(h).render()}function Ns(n){const e=n.picker.currentView.id;e!==n.config.maxView&&n.picker.changeView(e+1).render()}function Ls(n){n.config.updateOnBlur?n.update({autohide:!0}):(n.refresh("input"),n.hide())}function Xs(n){const e=n.picker,t=l();if(1===n.config.todayBtnMode){if(n.config.autohide)return void n.setDate(t);n.setDate(t,{render:!1}),e.update()}e.viewDate!==t&&e.changeFocus(t),e.changeView(0).render()}function ea(n){n.setDate({clear:!0})}function ta(n){Ns(n)}function ra(n){ui(n,-1)}function na(n){ui(n,1)}function ia(n,e){const t=si(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;const{id:r,isMinView:a}=n.picker.currentView;a?n.setDate(Number(t.dataset.date)):function(n,e){const t=n.picker,r=new Date(t.viewDate),a=t.currentView.id,c=1===a?f(r,e-r.getMonth()):m(r,e-r.getFullYear());t.changeFocus(c).changeView(a-1).render()}(n,Number(1===r?t.dataset.month:t.dataset.year))}function sa(n){!n.inline&&!n.config.disableTouchKeyboard&&n.inputField.focus()}function Rs(n,e){if(void 0!==e.title&&(e.title?(n.controls.title.textContent=e.title,mn(n.controls.title)):(n.controls.title.textContent="",dn(n.controls.title))),e.prevArrow){const t=n.controls.prevBtn;oi(t),e.prevArrow.forEach(r=>{t.appendChild(r.cloneNode(!0))})}if(e.nextArrow){const t=n.controls.nextBtn;oi(t),e.nextArrow.forEach(r=>{t.appendChild(r.cloneNode(!0))})}if(e.locale&&(n.controls.todayBtn.textContent=e.locale.today,n.controls.clearBtn.textContent=e.locale.clear),void 0!==e.todayBtn&&(e.todayBtn?mn(n.controls.todayBtn):dn(n.controls.todayBtn)),it(e,"minDate")||it(e,"maxDate")){const{minDate:t,maxDate:r}=n.datepicker.config;n.controls.todayBtn.disabled=!Cr(l(),t,r)}void 0!==e.clearBtn&&(e.clearBtn?mn(n.controls.clearBtn):dn(n.controls.clearBtn))}function Us(n){const{dates:e,config:t}=n;return me(e.length>0?ln(e):t.defaultViewDate,t.minDate,t.maxDate)}function js(n,e){const t=new Date(n.viewDate),r=new Date(e),{id:a,year:c,first:h,last:d}=n.currentView,p=r.getFullYear();switch(n.viewDate=e,p!==t.getFullYear()&&Nr(n.datepicker,"changeYear"),r.getMonth()!==t.getMonth()&&Nr(n.datepicker,"changeMonth"),a){case 0:return e<h||e>d;case 1:return p!==c;default:return p<h||p>d}}function bs(n){return window.getComputedStyle(n).direction}class aa{constructor(e){this.datepicker=e;const t=qs.replace(/%buttonClass%/g,e.config.buttonClass),r=this.element=Dt(t).firstChild,[a,c,h]=r.firstChild.children,d=a.firstElementChild,[p,b,v]=a.lastElementChild.children,[S,O]=h.firstChild.children,x={title:d,prevBtn:p,viewSwitch:b,nextBtn:v,todayBtn:S,clearBtn:O};this.main=c,this.controls=x,r.classList.add("datepicker-"+(e.inline?"inline":"dropdown")),Rs(this,e.config),this.viewDate=Us(e),fn(e,[[r,"click",sa.bind(null,e),{capture:!0}],[c,"click",ia.bind(null,e)],[x.viewSwitch,"click",ta.bind(null,e)],[x.prevBtn,"click",ra.bind(null,e)],[x.nextBtn,"click",na.bind(null,e)],[x.todayBtn,"click",Xs.bind(null,e)],[x.clearBtn,"click",ea.bind(null,e)]]),this.views=[new Js(this),new Ks(this),new Cs(this,{id:2,name:"years",cellClass:"year",step:1}),new Cs(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[e.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),e.config.container.appendChild(this.element)}setOptions(e){Rs(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.datepicker.config.container.removeChild(this.element)}show(){if(this.active)return;this.element.classList.add("active"),this.active=!0;const e=this.datepicker;if(!e.inline){const t=bs(e.inputField);t!==bs(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}Nr(e,"show")}hide(){!this.active||(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Nr(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element,{config:r,inputField:a}=this.datepicker,c=r.container,{width:h,height:d}=this.element.getBoundingClientRect(),{left:p,top:b,width:v}=c.getBoundingClientRect(),{left:S,top:O,width:x,height:L}=a.getBoundingClientRect();let B,X,F,{x:U,y:Y}=r.orientation;c===document.body?(B=window.scrollY,X=S+window.scrollX,F=O+B):(B=c.scrollTop,X=S-p,F=O-b+B),"auto"===U&&(X<0?(U="left",X=10):U=X+h>v||"rtl"===bs(a)?"right":"left"),"right"===U&&(X-=h-x),"auto"===Y&&(Y=F-d<B?"bottom":"top"),"top"===Y?F-=d:F+=L,e.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),e.add(`datepicker-orient-${Y}`,`datepicker-orient-${U}`),t.top=F&&`${F}px`,t.left=X&&`${X}px`}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevBtnDisabled(e){this.controls.prevBtn.disabled=e}setNextBtnDisabled(e){this.controls.nextBtn.disabled=e}changeView(e){const t=this.currentView,r=this.views[e];return r.id!==t.id&&(this.currentView=r,this._renderMethod="render",Nr(this.datepicker,"changeView"),this.main.replaceChild(r.element,t.element)),this}changeFocus(e){return this._renderMethod=js(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(){const e=Us(this.datepicker);return this._renderMethod=js(this,e)?"render":"refresh",this.views.forEach(t=>{t.updateFocus(),t.updateSelection()}),this}render(e=!0){const t=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[t]()}}function Ps(n,e,t,r,a,c){if(Cr(n,a,c))return r(n)?Ps(e(n,t),e,t,r,a,c):n}function li(n,e,t,r){const a=n.picker,c=a.currentView,h=c.step||1;let p,b,d=a.viewDate;switch(c.id){case 0:d=r?i(d,7*t):e.ctrlKey||e.metaKey?m(d,t):i(d,t),p=i,b=v=>c.disabled.includes(v);break;case 1:d=f(d,r?4*t:t),p=f,b=v=>{const S=new Date(v),{year:O,disabled:x}=c;return S.getFullYear()===O&&x.includes(S.getMonth())};break;default:d=m(d,t*(r?4:1)*h),p=m,b=v=>c.disabled.includes(E(v,h))}d=Ps(d,p,t<0?-h:h,b,c.minDate,c.maxDate),void 0!==d&&a.changeFocus(d).render()}function oa(n,e){if("Tab"===e.key)return void Ls(n);const t=n.picker,{id:r,isMinView:a}=t.currentView;if(t.active)if(n.editMode)switch(e.key){case"Escape":t.hide();break;case"Enter":n.exitEditMode({update:!0,autohide:n.config.autohide});break;default:return}else switch(e.key){case"Escape":t.hide();break;case"ArrowLeft":if(e.ctrlKey||e.metaKey)ui(n,-1);else{if(e.shiftKey)return void n.enterEditMode();li(n,e,-1,!1)}break;case"ArrowRight":if(e.ctrlKey||e.metaKey)ui(n,1);else{if(e.shiftKey)return void n.enterEditMode();li(n,e,1,!1)}break;case"ArrowUp":if(e.ctrlKey||e.metaKey)Ns(n);else{if(e.shiftKey)return void n.enterEditMode();li(n,e,-1,!0)}break;case"ArrowDown":if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return void n.enterEditMode();li(n,e,1,!0);break;case"Enter":a?n.setDate(t.viewDate):t.changeView(r-1).render();break;case"Backspace":case"Delete":return void n.enterEditMode();default:return void(1===e.key.length&&!e.ctrlKey&&!e.metaKey&&n.enterEditMode())}else switch(e.key){case"ArrowDown":case"Escape":t.show();break;case"Enter":n.update();break;default:return}e.preventDefault(),e.stopPropagation()}function ua(n){n.config.showOnFocus&&!n._showing&&n.show()}function la(n,e){const t=e.target;(n.picker.active||n.config.showOnClick)&&(t._active=t===document.activeElement,t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function ca(n,e){const t=e.target;!t._clicking||(clearTimeout(t._clicking),delete t._clicking,t._active&&n.enterEditMode(),delete t._active,n.config.showOnClick&&n.show())}function fa(n,e){e.clipboardData.types.includes("text/plain")&&n.enterEditMode()}function ha(n,e){const t=n.element;if(t!==document.activeElement)return;const r=n.picker.element;si(e,a=>a===t||a===r)||Ls(n)}function $s(n,e){return n.map(t=>Ot(t,e.format,e.locale)).join(e.dateDelimiter)}function Ys(n,e,t=!1){const{config:r,dates:a,rangepicker:c}=n;if(0===e.length)return t?[]:void 0;const h=c&&n===c.datepickers[1];let d=e.reduce((p,b)=>{let v=kt(b,r.format,r.locale);if(void 0===v)return p;if(r.pickLevel>0){const S=new Date(v);v=1===r.pickLevel?h?S.setMonth(S.getMonth()+1,0):S.setDate(1):h?S.setFullYear(S.getFullYear()+1,0,0):S.setMonth(0,1)}return Cr(v,r.minDate,r.maxDate)&&!p.includes(v)&&!r.datesDisabled.includes(v)&&!r.daysOfWeekDisabled.includes(new Date(v).getDay())&&p.push(v),p},[]);return 0!==d.length?(r.multidate&&!t&&(d=d.reduce((p,b)=>(a.includes(b)||p.push(b),p),a.filter(p=>!d.includes(p)))),r.maxNumberOfDates&&d.length>r.maxNumberOfDates?d.slice(-1*r.maxNumberOfDates):d):void 0}function ci(n,e=3,t=!0){const{config:r,picker:a,inputField:c}=n;if(2&e){const h=a.active?r.pickLevel:r.startView;a.update().changeView(h).render(t)}1&e&&c&&(c.value=$s(n.dates,r))}function Ws(n,e,t){let{clear:r,render:a,autohide:c}=t;void 0===a&&(a=!0),a?void 0===c&&(c=n.config.autohide):c=!1;const h=Ys(n,e,r);!h||(h.toString()!==n.dates.toString()?(n.dates=h,ci(n,a?3:1),Nr(n,"changeDate")):ci(n,1),c&&n.hide())}class da{constructor(e,t={},r){e.datepicker=this,this.element=e;const a=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:document.body,defaultViewDate:l(),maxDate:void 0,minDate:void 0},vs(ms,this));this._options=t,Object.assign(a,vs(t,this));const c=this.inline="INPUT"!==e.tagName;let h,d;if(c)a.container=e,d=Ar(e.dataset.date,a.dateDelimiter),delete e.dataset.date;else{const v=t.container?document.querySelector(t.container):null;v&&(a.container=v),h=this.inputField=e,h.classList.add("datepicker-input"),d=Ar(h.value,a.dateDelimiter)}if(r){const v=r.inputs.indexOf(h),S=r.datepickers;if(v<0||v>1||!Array.isArray(S))throw Error("Invalid rangepicker object.");S[v]=this,Object.defineProperty(this,"rangepicker",{get:()=>r})}this.dates=[];const p=Ys(this,d);p&&p.length>0&&(this.dates=p),h&&(h.value=$s(this.dates,a));const b=this.picker=new aa(this);if(c)this.show();else{const v=ha.bind(null,this);fn(this,[[h,"keydown",oa.bind(null,this)],[h,"focus",ua.bind(null,this)],[h,"mousedown",la.bind(null,this)],[h,"click",ca.bind(null,this)],[h,"paste",fa.bind(null,this)],[document,"mousedown",v],[document,"touchstart",v],[window,"resize",b.place.bind(b)]])}}static formatDate(e,t,r){return Ot(e,t,r&&ur[r]||ur.en)}static parseDate(e,t,r){return kt(e,t,r&&ur[r]||ur.en)}static get locales(){return ur}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=this.picker,r=vs(e,this);Object.assign(this._options,e),Object.assign(this.config,r),t.setOptions(r),ci(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){return this.hide(),function(n){let e=ct.get(n);!e||(e.forEach(t=>{hs.call(...t)}),ct.delete(n))}(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(e){const t=e?r=>Ot(r,e,this.config.locale):r=>new Date(r);return this.config.multidate?this.dates.map(t):this.dates.length>0?t(this.dates[0]):void 0}setDate(...e){const t=[...e],r={},a=ln(e);"object"==typeof a&&!Array.isArray(a)&&!(a instanceof Date)&&a&&Object.assign(r,t.pop()),Ws(this,Array.isArray(t[0])?t[0]:t,r)}update(e){if(this.inline)return;const t={clear:!0,autohide:!(!e||!e.autohide)};Ws(this,Ar(this.inputField.value,this.config.dateDelimiter),t)}refresh(e,t=!1){let r;e&&"string"!=typeof e&&(t=e,e=void 0),r="picker"===e?2:"input"===e?1:3,ci(this,r,!t)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}exitEditMode(e){if(this.inline||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}let ma=(()=>{class n{constructor(t){this.cd=t,this.options={},this.changeDate=new g.vpe,this.changeMonth=new g.vpe,this.changeYear=new g.vpe}ngOnChanges(t){var r,a;if(t.elementId.currentValue){this.cd.detectChanges();const c=document.getElementById(t.elementId.currentValue),h=(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.currentValue)?null===(a=null==t?void 0:t.options)||void 0===a?void 0:a.currentValue:{};new da(c,h),c.addEventListener("changeDate",p=>this.changeDate.emit(p)),c.addEventListener("changeMonth",p=>this.changeMonth.emit(p)),c.addEventListener("changeYear",p=>this.changeYear.emit(p))}}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.sBO))},n.\u0275cmp=g.Xpm({type:n,selectors:[["lehi41-datepicker"]],inputs:{elementId:"elementId",options:"options"},outputs:{changeDate:"changeDate",changeMonth:"changeMonth",changeYear:"changeYear"},features:[g.TTD],decls:5,vars:1,consts:[[1,"input-group","mb-3"],["type","text",1,"form-control",3,"id"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-calendar"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g._UZ(1,"input",1),g.TgZ(2,"div",2),g.TgZ(3,"span",3),g._UZ(4,"span",4),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(1),g.Q6J("id",r.elementId))},styles:[".custom-css[_ngcontent-%COMP%]{background:red}"]}),n})();var ya=V(139);let pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[ie.ez,os,us.E,Kn.m,cs]]}),n})();g.B6R(xr,[ii.J,ma,ls,ya.c],[ie.Ov])},5630:function(Je,De){var J,V="undefined"!=typeof self?self:this,ie=function(){function J(){this.fetch=!1,this.DOMException=V.DOMException}return J.prototype=V,new J}();J=ie,function(ee){var be_searchParams="URLSearchParams"in J,be_iterable="Symbol"in J&&"iterator"in Symbol,be_blob="FileReader"in J&&"Blob"in J&&function(){try{return new Blob,!0}catch(k){return!1}}(),be_formData="FormData"in J,be_arrayBuffer="ArrayBuffer"in J;if(be_arrayBuffer)var Lr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],st=ArrayBuffer.isView||function(k){return k&&Lr.indexOf(Object.prototype.toString.call(k))>-1};function We(k){if("string"!=typeof k&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function cr(k){return"string"!=typeof k&&(k=String(k)),k}function _t(k){var I={next:function(){var j=k.shift();return{done:void 0===j,value:j}}};return be_iterable&&(I[Symbol.iterator]=function(){return I}),I}function Q(k){this.map={},k instanceof Q?k.forEach(function(I,j){this.append(j,I)},this):Array.isArray(k)?k.forEach(function(I){this.append(I[0],I[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(I){this.append(I,k[I])},this)}function Ae(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function fr(k){return new Promise(function(I,j){k.onload=function(){I(k.result)},k.onerror=function(){j(k.error)}})}function Ce(k){var I=new FileReader,j=fr(I);return I.readAsArrayBuffer(k),j}function Ht(k){if(k.slice)return k.slice(0);var I=new Uint8Array(k.byteLength);return I.set(new Uint8Array(k)),I.buffer}function Ee(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?"string"==typeof k?this._bodyText=k:be_blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:be_formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:be_searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():be_arrayBuffer&&be_blob&&function(k){return k&&DataView.prototype.isPrototypeOf(k)}(k)?(this._bodyArrayBuffer=Ht(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):be_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||st(k))?this._bodyArrayBuffer=Ht(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||("string"==typeof k?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):be_searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},be_blob&&(this.blob=function(){var k=Ae(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ae(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Ce)}),this.text=function(){var k=Ae(this);if(k)return k;if(this._bodyBlob)return function(k){var I=new FileReader,j=fr(I);return I.readAsText(k),j}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(k){for(var I=new Uint8Array(k),j=new Array(I.length),se=0;se<I.length;se++)j[se]=String.fromCharCode(I[se]);return j.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},be_formData&&(this.formData=function(){return this.text().then(ve)}),this.json=function(){return this.text().then(JSON.parse)},this}Q.prototype.append=function(k,I){k=We(k),I=cr(I);var j=this.map[k];this.map[k]=j?j+", "+I:I},Q.prototype.delete=function(k){delete this.map[We(k)]},Q.prototype.get=function(k){return k=We(k),this.has(k)?this.map[k]:null},Q.prototype.has=function(k){return this.map.hasOwnProperty(We(k))},Q.prototype.set=function(k,I){this.map[We(k)]=cr(I)},Q.prototype.forEach=function(k,I){for(var j in this.map)this.map.hasOwnProperty(j)&&k.call(I,this.map[j],j,this)},Q.prototype.keys=function(){var k=[];return this.forEach(function(I,j){k.push(j)}),_t(k)},Q.prototype.values=function(){var k=[];return this.forEach(function(I){k.push(I)}),_t(k)},Q.prototype.entries=function(){var k=[];return this.forEach(function(I,j){k.push([j,I])}),_t(k)},be_iterable&&(Q.prototype[Symbol.iterator]=Q.prototype.entries);var Ke=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function pe(k,I){var j=(I=I||{}).body;if(k instanceof pe){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,I.headers||(this.headers=new Q(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!j&&null!=k._bodyInit&&(j=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new Q(I.headers)),this.method=function(k){var I=k.toUpperCase();return Ke.indexOf(I)>-1?I:k}(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&j)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(j)}function ve(k){var I=new FormData;return k.trim().split("&").forEach(function(j){if(j){var se=j.split("="),ce=se.shift().replace(/\+/g," "),W=se.join("=").replace(/\+/g," ");I.append(decodeURIComponent(ce),decodeURIComponent(W))}}),I}function xt(k){var I=new Q;return k.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(se){var ce=se.split(":"),W=ce.shift().trim();if(W){var _e=ce.join(":").trim();I.append(W,_e)}}),I}function Ne(k,I){I||(I={}),this.type="default",this.status=void 0===I.status?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in I?I.statusText:"OK",this.headers=new Q(I.headers),this.url=I.url||"",this._initBody(k)}pe.prototype.clone=function(){return new pe(this,{body:this._bodyInit})},Ee.call(pe.prototype),Ee.call(Ne.prototype),Ne.prototype.clone=function(){return new Ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Q(this.headers),url:this.url})},Ne.error=function(){var k=new Ne(null,{status:0,statusText:""});return k.type="error",k};var hr=[301,302,303,307,308];Ne.redirect=function(k,I){if(-1===hr.indexOf(I))throw new RangeError("Invalid status code");return new Ne(null,{status:I,headers:{location:k}})},ee.DOMException=J.DOMException;try{new ee.DOMException}catch(k){ee.DOMException=function(I,j){this.message=I,this.name=j;var se=Error(I);this.stack=se.stack},ee.DOMException.prototype=Object.create(Error.prototype),ee.DOMException.prototype.constructor=ee.DOMException}function ht(k,I){return new Promise(function(j,se){var ce=new pe(k,I);if(ce.signal&&ce.signal.aborted)return se(new ee.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function _e(){W.abort()}W.onload=function(){var ae={status:W.status,statusText:W.statusText,headers:xt(W.getAllResponseHeaders()||"")};ae.url="responseURL"in W?W.responseURL:ae.headers.get("X-Request-URL"),j(new Ne("response"in W?W.response:W.responseText,ae))},W.onerror=function(){se(new TypeError("Network request failed"))},W.ontimeout=function(){se(new TypeError("Network request failed"))},W.onabort=function(){se(new ee.DOMException("Aborted","AbortError"))},W.open(ce.method,ce.url,!0),"include"===ce.credentials?W.withCredentials=!0:"omit"===ce.credentials&&(W.withCredentials=!1),"responseType"in W&&be_blob&&(W.responseType="blob"),ce.headers.forEach(function(ae,dt){W.setRequestHeader(dt,ae)}),ce.signal&&(ce.signal.addEventListener("abort",_e),W.onreadystatechange=function(){4===W.readyState&&ce.signal.removeEventListener("abort",_e)}),W.send(void 0===ce._bodyInit?null:ce._bodyInit)})}ht.polyfill=!0,J.fetch||(J.fetch=ht,J.Headers=Q,J.Request=pe,J.Response=Ne),ee.Headers=Q,ee.Request=pe,ee.Response=Ne,ee.fetch=ht,Object.defineProperty(ee,"__esModule",{value:!0})}({}),ie.fetch.ponyfill=!0,delete ie.fetch.polyfill;var ne=ie;(De=ne.fetch).default=ne.fetch,De.fetch=ne.fetch,De.Headers=ne.Headers,De.Request=ne.Request,De.Response=ne.Response,Je.exports=De},188:Je=>{var De=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};Je.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(V){return De()}try{return __global__||De()}finally{delete Object.prototype.__global__}}()},5429:(Je,De)=>{"use strict";function ie(s,l){for(var o=0;o<l.length;o++){var i=l[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function ne(s,l,o){return l&&ie(s.prototype,l),o&&ie(s,o),s}function J(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}function Et(s){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(s)}function ee(s,l){return(ee=Object.setPrototypeOf||function(i,u){return i.__proto__=u,i})(s,l)}function be(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(s){return!1}}function Be(s,l,o){return(Be=be()?Reflect.construct:function(u,f,m){var y=[null];y.push.apply(y,f);var T=new(Function.bind.apply(u,y));return m&&ee(T,m.prototype),T}).apply(null,arguments)}function st(s){var l="function"==typeof Map?new Map:void 0;return(st=function(i){if(null===i||!function(s){return-1!==Function.toString.call(s).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(i))return l.get(i);l.set(i,u)}function u(){return Be(i,arguments,Et(this).constructor)}return u.prototype=Object.create(i.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),ee(u,i)})(s)}function _t(s,l){(null==l||l>s.length)&&(l=s.length);for(var o=0,i=new Array(l);o<l;o++)i[o]=s[o];return i}function Q(s){var l=0;if("undefined"==typeof Symbol||null==s[Symbol.iterator]){if(Array.isArray(s)||(s=function(s,l){if(s){if("string"==typeof s)return _t(s,l);var o=Object.prototype.toString.call(s).slice(8,-1);if("Object"===o&&s.constructor&&(o=s.constructor.name),"Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _t(s,l)}}(s)))return function(){return l>=s.length?{done:!0}:{done:!1,value:s[l++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(l=s[Symbol.iterator]()).next.bind(l)}var Ae=function(s){function l(){return s.apply(this,arguments)||this}return J(l,s),l}(st(Error)),fr=function(s){function l(o){return s.call(this,"Invalid DateTime: "+o.toMessage())||this}return J(l,s),l}(Ae),Ce=function(s){function l(o){return s.call(this,"Invalid Interval: "+o.toMessage())||this}return J(l,s),l}(Ae),Fr=function(s){function l(o){return s.call(this,"Invalid Duration: "+o.toMessage())||this}return J(l,s),l}(Ae),ft=function(s){function l(){return s.apply(this,arguments)||this}return J(l,s),l}(Ae),Ht=function(s){function l(o){return s.call(this,"Invalid unit "+o)||this}return J(l,s),l}(Ae),Ee=function(s){function l(){return s.apply(this,arguments)||this}return J(l,s),l}(Ae),Ke=function(s){function l(){return s.call(this,"Zone is an abstract class")||this}return J(l,s),l}(Ae),M="numeric",pe="short",ve="long",xt={year:M,month:M,day:M},Ne={year:M,month:pe,day:M},hr={year:M,month:pe,day:M,weekday:pe},ht={year:M,month:ve,day:M},k={year:M,month:ve,day:M,weekday:ve},I={hour:M,minute:M},j={hour:M,minute:M,second:M},se={hour:M,minute:M,second:M,timeZoneName:pe},ce={hour:M,minute:M,second:M,timeZoneName:ve},W={hour:M,minute:M,hour12:!1},_e={hour:M,minute:M,second:M,hour12:!1},ae={hour:M,minute:M,second:M,hour12:!1,timeZoneName:pe},dt={hour:M,minute:M,second:M,hour12:!1,timeZoneName:ve},Rr={year:M,month:M,day:M,hour:M,minute:M},xe={year:M,month:M,day:M,hour:M,minute:M,second:M},Ur={year:M,month:pe,day:M,hour:M,minute:M},jr={year:M,month:pe,day:M,hour:M,minute:M,second:M},yn={year:M,month:pe,day:M,weekday:pe,hour:M,minute:M},Pr={year:M,month:ve,day:M,hour:M,minute:M,timeZoneName:pe},Vt={year:M,month:ve,day:M,hour:M,minute:M,second:M,timeZoneName:pe},Zt={year:M,month:ve,day:M,weekday:ve,hour:M,minute:M,timeZoneName:ve},at={year:M,month:ve,day:M,weekday:ve,hour:M,minute:M,second:M,timeZoneName:ve};function q(s){return void 0===s}function mt(s){return"number"==typeof s}function $r(s){return"number"==typeof s&&s%1==0}function Z(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(s){return!1}}function It(){return!q(Intl.DateTimeFormat.prototype.formatToParts)}function pn(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(s){return!1}}function Qe(s,l,o){if(0!==s.length)return s.reduce(function(i,u){var f=[l(u),u];return i&&o(i[0],f[0])===i[0]?i:f},null)[1]}function gn(s,l){return l.reduce(function(o,i){return o[i]=s[i],o},{})}function Bt(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function He(s,l,o){return $r(s)&&s>=l&&s<=o}function Xe(s,l){void 0===l&&(l=2);var o=s<0?"-":"",i=o?-1*s:s;return""+o+(i.toString().length<l?("0".repeat(l)+i).slice(-l):i.toString())}function Te(s){if(!q(s)&&null!==s&&""!==s)return parseInt(s,10)}function mr(s){if(!q(s)&&null!==s&&""!==s){var l=1e3*parseFloat("0."+s);return Math.floor(l)}}function Yr(s,l,o){void 0===o&&(o=!1);var i=Math.pow(10,l);return(o?Math.trunc:Math.round)(s*i)/i}function qt(s){return s%4==0&&(s%100!=0||s%400==0)}function yr(s){return qt(s)?366:365}function pr(s,l){var o=function(s,l){return s-12*Math.floor(s/12)}(l-1)+1;return 2===o?qt(s+(l-o)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function Wr(s){var l=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(l=new Date(l)).setUTCFullYear(l.getUTCFullYear()-1900),+l}function zt(s){var l=(s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400))%7,o=s-1,i=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7;return 4===l||3===i?53:52}function Hr(s){return s>99?s:s>60?1900+s:2e3+s}function yt(s,l,o,i){void 0===i&&(i=null);var u=new Date(s),f={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(f.timeZone=i);var m=Object.assign({timeZoneName:l},f),y=Z();if(y&&It()){var w=new Intl.DateTimeFormat(o,m).formatToParts(u).find(function(A){return"timezonename"===A.type.toLowerCase()});return w?w.value:null}if(y){var T=new Intl.DateTimeFormat(o,f).format(u);return new Intl.DateTimeFormat(o,m).format(u).substring(T.length).replace(/^[, \u200e]+/,"")}return null}function ge(s,l){var o=parseInt(s,10);Number.isNaN(o)&&(o=0);var i=parseInt(l,10)||0;return 60*o+(o<0||Object.is(o,-0)?-i:i)}function Ue(s){var l=Number(s);if("boolean"==typeof s||""===s||Number.isNaN(l))throw new Ee("Invalid unit value "+s);return l}function pt(s,l,o){var i={};for(var u in s)if(Bt(s,u)){if(o.indexOf(u)>=0)continue;var f=s[u];if(null==f)continue;i[l(u)]=Ue(f)}return i}function Gt(s,l){var o=Math.trunc(Math.abs(s/60)),i=Math.trunc(Math.abs(s%60)),u=s>=0?"+":"-";switch(l){case"short":return""+u+Xe(o,2)+":"+Xe(i,2);case"narrow":return""+u+o+(i>0?":"+i:"");case"techie":return""+u+Xe(o,2)+Xe(i,2);default:throw new RangeError("Value format "+l+" is out of range for property format")}}function Mt(s){return gn(s,["hour","minute","second","millisecond"])}var bn=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function ue(s){return JSON.stringify(s,Object.keys(s).sort())}var di=["January","February","March","April","May","June","July","August","September","October","November","December"],wn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mi=["J","F","M","A","M","J","J","A","S","O","N","D"];function Sn(s){switch(s){case"narrow":return[].concat(mi);case"short":return[].concat(wn);case"long":return[].concat(di);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Tn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],kn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Jt=["M","T","W","T","F","S","S"];function On(s){switch(s){case"narrow":return[].concat(Jt);case"short":return[].concat(kn);case"long":return[].concat(Tn);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Dn=["AM","PM"],yi=["Before Christ","Anno Domini"],vr=["BC","AD"],Vr=["B","A"];function At(s){switch(s){case"narrow":return[].concat(Vr);case"short":return[].concat(vr);case"long":return[].concat(yi);default:return null}}function et(s,l){for(var u,o="",i=Q(s);!(u=i()).done;){var f=u.value;o+=f.literal?f.val:l(f.val)}return o}var bi={D:xt,DD:Ne,DDD:ht,DDDD:k,t:I,tt:j,ttt:se,tttt:ce,T:W,TT:_e,TTT:ae,TTTT:dt,f:Rr,ff:Ur,fff:Pr,ffff:Zt,F:xe,FF:jr,FFF:Vt,FFFF:at},qe=function(){function s(o,i){this.opts=i,this.loc=o,this.systemLoc=null}s.create=function(i,u){return void 0===u&&(u={}),new s(i,u)},s.parseFormat=function(i){for(var u=null,f="",m=!1,y=[],w=0;w<i.length;w++){var T=i.charAt(w);"'"===T?(f.length>0&&y.push({literal:m,val:f}),u=null,f="",m=!m):m||T===u?f+=T:(f.length>0&&y.push({literal:!1,val:f}),f=T,u=T)}return f.length>0&&y.push({literal:m,val:f}),y},s.macroTokenToFormatOpts=function(i){return bi[i]};var l=s.prototype;return l.formatWithSystemDefault=function(i,u){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(i,Object.assign({},this.opts,u)).format()},l.formatDateTime=function(i,u){return void 0===u&&(u={}),this.loc.dtFormatter(i,Object.assign({},this.opts,u)).format()},l.formatDateTimeParts=function(i,u){return void 0===u&&(u={}),this.loc.dtFormatter(i,Object.assign({},this.opts,u)).formatToParts()},l.resolvedOptions=function(i,u){return void 0===u&&(u={}),this.loc.dtFormatter(i,Object.assign({},this.opts,u)).resolvedOptions()},l.num=function(i,u){if(void 0===u&&(u=0),this.opts.forceSimple)return Xe(i,u);var f=Object.assign({},this.opts);return u>0&&(f.padTo=u),this.loc.numberFormatter(f).format(i)},l.formatDateTimeFromString=function(i,u){var f=this,m="en"===this.loc.listingMode(),y=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&It(),w=function(R,Me){return f.loc.extract(i,R,Me)},T=function(R){return i.isOffsetFixed&&0===i.offset&&R.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,R.format):""},D=function(R,Me){return m?function(s,l){return Sn(l)[s.month-1]}(i,R):w(Me?{month:R}:{month:R,day:"numeric"},"month")},_=function(R,Me){return m?function(s,l){return On(l)[s.weekday-1]}(i,R):w(Me?{weekday:R}:{weekday:R,month:"long",day:"numeric"},"weekday")},N=function(R){return m?function(s,l){return At(l)[s.year<0?0:1]}(i,R):w({era:R},"era")};return et(s.parseFormat(u),function(R){switch(R){case"S":return f.num(i.millisecond);case"u":case"SSS":return f.num(i.millisecond,3);case"s":return f.num(i.second);case"ss":return f.num(i.second,2);case"m":return f.num(i.minute);case"mm":return f.num(i.minute,2);case"h":return f.num(i.hour%12==0?12:i.hour%12);case"hh":return f.num(i.hour%12==0?12:i.hour%12,2);case"H":return f.num(i.hour);case"HH":return f.num(i.hour,2);case"Z":return T({format:"narrow",allowZ:f.opts.allowZ});case"ZZ":return T({format:"short",allowZ:f.opts.allowZ});case"ZZZ":return T({format:"techie",allowZ:f.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:f.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:f.loc.locale});case"z":return i.zoneName;case"a":return m?function(s){return Dn[s.hour<12?0:1]}(i):w({hour:"numeric",hour12:!0},"dayperiod");case"d":return y?w({day:"numeric"},"day"):f.num(i.day);case"dd":return y?w({day:"2-digit"},"day"):f.num(i.day,2);case"c":return f.num(i.weekday);case"ccc":return _("short",!0);case"cccc":return _("long",!0);case"ccccc":return _("narrow",!0);case"E":return f.num(i.weekday);case"EEE":return _("short",!1);case"EEEE":return _("long",!1);case"EEEEE":return _("narrow",!1);case"L":return y?w({month:"numeric",day:"numeric"},"month"):f.num(i.month);case"LL":return y?w({month:"2-digit",day:"numeric"},"month"):f.num(i.month,2);case"LLL":return D("short",!0);case"LLLL":return D("long",!0);case"LLLLL":return D("narrow",!0);case"M":return y?w({month:"numeric"},"month"):f.num(i.month);case"MM":return y?w({month:"2-digit"},"month"):f.num(i.month,2);case"MMM":return D("short",!1);case"MMMM":return D("long",!1);case"MMMMM":return D("narrow",!1);case"y":return y?w({year:"numeric"},"year"):f.num(i.year);case"yy":return y?w({year:"2-digit"},"year"):f.num(i.year.toString().slice(-2),2);case"yyyy":return y?w({year:"numeric"},"year"):f.num(i.year,4);case"yyyyyy":return y?w({year:"numeric"},"year"):f.num(i.year,6);case"G":return N("short");case"GG":return N("long");case"GGGGG":return N("narrow");case"kk":return f.num(i.weekYear.toString().slice(-2),2);case"kkkk":return f.num(i.weekYear,4);case"W":return f.num(i.weekNumber);case"WW":return f.num(i.weekNumber,2);case"o":return f.num(i.ordinal);case"ooo":return f.num(i.ordinal,3);case"q":return f.num(i.quarter);case"qq":return f.num(i.quarter,2);case"X":return f.num(Math.floor(i.ts/1e3));case"x":return f.num(i.ts);default:return function(R){var Me=s.macroTokenToFormatOpts(R);return Me?f.formatWithSystemDefault(i,Me):R}(R)}})},l.formatDurationFromString=function(i,u){var _,f=this,m=function(_){switch(_[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},w=s.parseFormat(u),T=w.reduce(function(D,_){return _.literal?D:D.concat(_.val)},[]),E=i.shiftTo.apply(i,T.map(m).filter(function(D){return D}));return et(w,(_=E,function(A){var N=m(A);return N?f.num(_.get(N),A.length):A}))},s}(),Ve=function(){function s(o,i){this.reason=o,this.explanation=i}return s.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},s}(),Nt=function(){function s(){}var l=s.prototype;return l.offsetName=function(i,u){throw new Ke},l.formatOffset=function(i,u){throw new Ke},l.offset=function(i){throw new Ke},l.equals=function(i){throw new Ke},ne(s,[{key:"type",get:function(){throw new Ke}},{key:"name",get:function(){throw new Ke}},{key:"universal",get:function(){throw new Ke}},{key:"isValid",get:function(){throw new Ke}}]),s}(),gr=null,_n=function(s){function l(){return s.apply(this,arguments)||this}J(l,s);var o=l.prototype;return o.offsetName=function(u,f){return yt(u,f.format,f.locale)},o.formatOffset=function(u,f){return Gt(this.offset(u),f)},o.offset=function(u){return-new Date(u).getTimezoneOffset()},o.equals=function(u){return"local"===u.type},ne(l,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return Z()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===gr&&(gr=new l),gr}}]),l}(Nt),wi=RegExp("^"+bn.source+"$"),br={},Kt={year:0,month:1,day:2,hour:3,minute:4,second:5},wr={},tt=function(s){function l(i){var u;return(u=s.call(this)||this).zoneName=i,u.valid=l.isValidZone(i),u}J(l,s),l.create=function(u){return wr[u]||(wr[u]=new l(u)),wr[u]},l.resetCache=function(){wr={},br={}},l.isValidSpecifier=function(u){return!(!u||!u.match(wi))},l.isValidZone=function(u){try{return new Intl.DateTimeFormat("en-US",{timeZone:u}).format(),!0}catch(f){return!1}},l.parseGMTOffset=function(u){if(u){var f=u.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(f)return-60*parseInt(f[1])}return null};var o=l.prototype;return o.offsetName=function(u,f){return yt(u,f.format,f.locale,this.name)},o.formatOffset=function(u,f){return Gt(this.offset(u),f)},o.offset=function(u){var f=new Date(u);if(isNaN(f))return NaN;var m=function(s){return br[s]||(br[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),br[s]}(this.name),y=m.formatToParts?function(s,l){for(var o=s.formatToParts(l),i=[],u=0;u<o.length;u++){var f=o[u],y=f.value,w=Kt[f.type];q(w)||(i[w]=parseInt(y,10))}return i}(m,f):function(s,l){var o=s.format(l).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(o);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(m,f),D=y[3],$=+f,R=$%1e3;return(Wr({year:y[0],month:y[1],day:y[2],hour:24===D?0:D,minute:y[4],second:y[5],millisecond:0})-($-=R>=0?R:1e3+R))/6e4},o.equals=function(u){return"iana"===u.type&&u.name===this.name},ne(l,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),l}(Nt),Zr=null,ke=function(s){function l(i){var u;return(u=s.call(this)||this).fixed=i,u}J(l,s),l.instance=function(u){return 0===u?l.utcInstance:new l(u)},l.parseSpecifier=function(u){if(u){var f=u.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(f)return new l(ge(f[1],f[2]))}return null},ne(l,null,[{key:"utcInstance",get:function(){return null===Zr&&(Zr=new l(0)),Zr}}]);var o=l.prototype;return o.offsetName=function(){return this.name},o.formatOffset=function(u,f){return Gt(this.fixed,f)},o.offset=function(){return this.fixed},o.equals=function(u){return"fixed"===u.type&&u.fixed===this.fixed},ne(l,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+Gt(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),l}(Nt),Qt=function(s){function l(i){var u;return(u=s.call(this)||this).zoneName=i,u}J(l,s);var o=l.prototype;return o.offsetName=function(){return null},o.formatOffset=function(){return""},o.offset=function(){return NaN},o.equals=function(){return!1},ne(l,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),l}(Nt);function fe(s,l){var o;if(q(s)||null===s)return l;if(s instanceof Nt)return s;if(function(s){return"string"==typeof s}(s)){var i=s.toLowerCase();return"local"===i?l:"utc"===i||"gmt"===i?ke.utcInstance:null!=(o=tt.parseGMTOffset(s))?ke.instance(o):tt.isValidSpecifier(i)?tt.create(s):ke.parseSpecifier(i)||new Qt(s)}return mt(s)?ke.instance(s):"object"==typeof s&&s.offset&&"number"==typeof s.offset?s:new Qt(s)}var he=function(){return Date.now()},je=null,Br=null,Le=null,Ze=null,Ti=!1,C=function(){function s(){}return s.resetCaches=function(){we.resetCache(),tt.resetCache()},ne(s,null,[{key:"now",get:function(){return he},set:function(o){he=o}},{key:"defaultZoneName",get:function(){return s.defaultZone.name},set:function(o){je=o?fe(o):null}},{key:"defaultZone",get:function(){return je||_n.instance}},{key:"defaultLocale",get:function(){return Br},set:function(o){Br=o}},{key:"defaultNumberingSystem",get:function(){return Le},set:function(o){Le=o}},{key:"defaultOutputCalendar",get:function(){return Ze},set:function(o){Ze=o}},{key:"throwOnInvalid",get:function(){return Ti},set:function(o){Ti=o}}]),s}(),qr={};function ot(s,l){void 0===l&&(l={});var o=JSON.stringify([s,l]),i=qr[o];return i||(i=new Intl.DateTimeFormat(s,l),qr[o]=i),i}var zr={},Xt={};var oe=null;function Rt(s,l,o,i,u){var f=s.listingMode(o);return"error"===f?null:"en"===f?i(l):u(l)}var Fe=function(){function s(o,i,u){if(this.padTo=u.padTo||0,this.floor=u.floor||!1,!i&&Z()){var f={useGrouping:!1};u.padTo>0&&(f.minimumIntegerDigits=u.padTo),this.inf=function(s,l){void 0===l&&(l={});var o=JSON.stringify([s,l]),i=zr[o];return i||(i=new Intl.NumberFormat(s,l),zr[o]=i),i}(o,f)}}return s.prototype.format=function(i){if(this.inf){var u=this.floor?Math.floor(i):i;return this.inf.format(u)}return Xe(this.floor?Math.floor(i):Yr(i,3),this.padTo)},s}(),Ss=function(){function s(o,i,u){var f;if(this.opts=u,this.hasIntl=Z(),o.zone.universal&&this.hasIntl){var m=o.offset/60*-1,y=m>=0?"Etc/GMT+"+m:"Etc/GMT"+m,w=tt.isValidZone(y);0!==o.offset&&w?(f=y,this.dt=o):(f="UTC",this.dt=u.timeZoneName||0===o.offset?o:me.fromMillis(o.ts+60*o.offset*1e3))}else"local"===o.zone.type?this.dt=o:(this.dt=o,f=o.zone.name);if(this.hasIntl){var T=Object.assign({},this.opts);f&&(T.timeZone=f),this.dtf=ot(i,T)}}var l=s.prototype;return l.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var i=function(s){var i="EEEE, LLLL d, yyyy, h:mm a";switch(ue(gn(s,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case ue(xt):return"M/d/yyyy";case ue(Ne):return"LLL d, yyyy";case ue(hr):return"EEE, LLL d, yyyy";case ue(ht):return"LLLL d, yyyy";case ue(k):return"EEEE, LLLL d, yyyy";case ue(I):return"h:mm a";case ue(j):return"h:mm:ss a";case ue(se):case ue(ce):return"h:mm a";case ue(W):return"HH:mm";case ue(_e):return"HH:mm:ss";case ue(ae):case ue(dt):return"HH:mm";case ue(Rr):return"M/d/yyyy, h:mm a";case ue(Ur):return"LLL d, yyyy, h:mm a";case ue(Pr):return"LLLL d, yyyy, h:mm a";case ue(Zt):return i;case ue(xe):return"M/d/yyyy, h:mm:ss a";case ue(jr):return"LLL d, yyyy, h:mm:ss a";case ue(yn):return"EEE, d LLL yyyy, h:mm a";case ue(Vt):return"LLLL d, yyyy, h:mm:ss a";case ue(at):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return i}}(this.opts),u=we.create("en-US");return qe.create(u).formatDateTimeFromString(this.dt,i)},l.formatToParts=function(){return this.hasIntl&&It()?this.dtf.formatToParts(this.dt.toJSDate()):[]},l.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},s}(),Ts=function(){function s(o,i,u){this.opts=Object.assign({style:"long"},u),!i&&pn()&&(this.rtf=function(s,l){void 0===l&&(l={});var u=function(s,l){if(null==s)return{};var u,f,o={},i=Object.keys(s);for(f=0;f<i.length;f++)!(l.indexOf(u=i[f])>=0)&&(o[u]=s[u]);return o}(l,["base"]),f=JSON.stringify([s,u]),m=Xt[f];return m||(m=new Intl.RelativeTimeFormat(s,l),Xt[f]=m),m}(o,u))}var l=s.prototype;return l.format=function(i,u){return this.rtf?this.rtf.format(i,u):function(s,l,o,i){void 0===o&&(o="always"),void 0===i&&(i=!1);var u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},f=-1===["hours","minutes","seconds"].indexOf(s);if("auto"===o&&f){var m="days"===s;switch(l){case 1:return m?"tomorrow":"next "+u[s][0];case-1:return m?"yesterday":"last "+u[s][0];case 0:return m?"today":"this "+u[s][0]}}var y=Object.is(l,-0)||l<0,w=Math.abs(l),T=1===w,E=u[s],D=i?T?E[1]:E[2]||E[1]:T?u[s][0]:s;return y?w+" "+D+" ago":"in "+w+" "+D}(u,i,this.opts.numeric,"long"!==this.opts.style)},l.formatToParts=function(i,u){return this.rtf?this.rtf.formatToParts(i,u):[]},s}(),we=function(){function s(o,i,u,f){var m=function(s){var l=s.indexOf("-u-");if(-1===l)return[s];var o,i=s.substring(0,l);try{o=ot(s).resolvedOptions()}catch(y){o=ot(i).resolvedOptions()}return[i,o.numberingSystem,o.calendar]}(o),w=m[1],T=m[2];this.locale=m[0],this.numberingSystem=i||w||null,this.outputCalendar=u||T||null,this.intl=function(s,l,o){return Z()?((o||l)&&(s+="-u",o&&(s+="-ca-"+o),l&&(s+="-nu-"+l)),s):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=f,this.fastNumbersCached=null}s.fromOpts=function(i){return s.create(i.locale,i.numberingSystem,i.outputCalendar,i.defaultToEN)},s.create=function(i,u,f,m){void 0===m&&(m=!1);var y=i||C.defaultLocale;return new s(y||(m?"en-US":function(){if(oe)return oe;if(Z()){var s=(new Intl.DateTimeFormat).resolvedOptions().locale;return oe=s&&"und"!==s?s:"en-US"}return oe="en-US"}()),u||C.defaultNumberingSystem,f||C.defaultOutputCalendar,y)},s.resetCache=function(){oe=null,qr={},zr={},Xt={}},s.fromObject=function(i){var u=void 0===i?{}:i;return s.create(u.locale,u.numberingSystem,u.outputCalendar)};var l=s.prototype;return l.listingMode=function(i){void 0===i&&(i=!0);var f=Z()&&It(),m=this.isEnglish(),y=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return f||m&&y||i?!f||m&&y?"en":"intl":"error"},l.clone=function(i){return i&&0!==Object.getOwnPropertyNames(i).length?s.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,i.defaultToEN||!1):this},l.redefaultToEN=function(i){return void 0===i&&(i={}),this.clone(Object.assign({},i,{defaultToEN:!0}))},l.redefaultToSystem=function(i){return void 0===i&&(i={}),this.clone(Object.assign({},i,{defaultToEN:!1}))},l.months=function(i,u,f){var m=this;return void 0===u&&(u=!1),void 0===f&&(f=!0),Rt(this,i,f,Sn,function(){var y=u?{month:i,day:"numeric"}:{month:i},w=u?"format":"standalone";return m.monthsCache[w][i]||(m.monthsCache[w][i]=function(s){for(var l=[],o=1;o<=12;o++){var i=me.utc(2016,o,1);l.push(m.extract(i,y,"month"))}return l}()),m.monthsCache[w][i]})},l.weekdays=function(i,u,f){var m=this;return void 0===u&&(u=!1),void 0===f&&(f=!0),Rt(this,i,f,On,function(){var y=u?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},w=u?"format":"standalone";return m.weekdaysCache[w][i]||(m.weekdaysCache[w][i]=function(s){for(var l=[],o=1;o<=7;o++){var i=me.utc(2016,11,13+o);l.push(m.extract(i,y,"weekday"))}return l}()),m.weekdaysCache[w][i]})},l.meridiems=function(i){var u=this;return void 0===i&&(i=!0),Rt(this,void 0,i,function(){return Dn},function(){if(!u.meridiemCache){var f={hour:"numeric",hour12:!0};u.meridiemCache=[me.utc(2016,11,13,9),me.utc(2016,11,13,19)].map(function(m){return u.extract(m,f,"dayperiod")})}return u.meridiemCache})},l.eras=function(i,u){var f=this;return void 0===u&&(u=!0),Rt(this,i,u,At,function(){var m={era:i};return f.eraCache[i]||(f.eraCache[i]=[me.utc(-40,1,1),me.utc(2017,1,1)].map(function(y){return f.extract(y,m,"era")})),f.eraCache[i]})},l.extract=function(i,u,f){var w=this.dtFormatter(i,u).formatToParts().find(function(T){return T.type.toLowerCase()===f});return w?w.value:null},l.numberFormatter=function(i){return void 0===i&&(i={}),new Fe(this.intl,i.forceSimple||this.fastNumbers,i)},l.dtFormatter=function(i,u){return void 0===u&&(u={}),new Ss(i,this.intl,u)},l.relFormatter=function(i){return void 0===i&&(i={}),new Ts(this.intl,this.isEnglish(),i)},l.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Z()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},l.equals=function(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar},ne(s,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function(s){return(!s.numberingSystem||"latn"===s.numberingSystem)&&("latn"===s.numberingSystem||!s.locale||s.locale.startsWith("en")||Z()&&"latn"===new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),s}();function er(){for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];var i=l.reduce(function(u,f){return u+f.source},"");return RegExp("^"+i+"$")}function Ut(){for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return function(i){return l.reduce(function(u,f){var m=u[0],y=u[1],T=f(i,u[2]),D=T[1],_=T[2];return[Object.assign(m,T[0]),y||D,_]},[{},null,1]).slice(0,2)}}function tr(s){if(null==s)return[null,null];for(var l=arguments.length,o=new Array(l>1?l-1:0),i=1;i<l;i++)o[i-1]=arguments[i];for(var u=0,f=o;u<f.length;u++){var m=f[u],y=m[0],w=m[1],T=y.exec(s);if(T)return w(T)}return[null,null]}function Oi(){for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return function(i,u){var m,f={};for(m=0;m<l.length;m++)f[l[m]]=Te(i[u+m]);return[f,null,u+m]}}var Di=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Sr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,In=RegExp(""+Sr.source+Di.source+"?"),Mn=RegExp("(?:T"+In.source+")?"),Os=Oi("weekYear","weekNumber","weekDay"),Ds=Oi("year","ordinal"),Ei=RegExp(Sr.source+" ?(?:"+Di.source+"|("+bn.source+"))?"),_s=RegExp("(?: "+Ei.source+")?");function rr(s,l,o){var i=s[l];return q(i)?o:Te(i)}function _i(s,l){return[{year:rr(s,l),month:rr(s,l+1,1),day:rr(s,l+2,1)},null,l+3]}function gt(s,l){return[{hours:rr(s,l,0),minutes:rr(s,l+1,0),seconds:rr(s,l+2,0),milliseconds:mr(s[l+3])},null,l+4]}function bt(s,l){var o=!s[l]&&!s[l+1],i=ge(s[l+1],s[l+2]);return[{},o?null:ke.instance(i),l+3]}function An(s,l){return[{},s[l]?tt.create(s[l]):null,l+1]}var kr=RegExp("^T?"+Sr.source+"$"),Cn=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function xi(s){var i=s[2],u=s[3],f=s[4],m=s[5],y=s[6],w=s[7],T=s[8],E="-"===s[0][0],D=w&&"-"===w[0],_=function(N,P){return void 0===P&&(P=!1),void 0!==N&&(P||N&&E)?-N:N};return[{years:_(Te(s[1])),months:_(Te(i)),weeks:_(Te(u)),days:_(Te(f)),hours:_(Te(m)),minutes:_(Te(y)),seconds:_(Te(w),"-0"===w),milliseconds:_(mr(T),D)}]}var Ii={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Jr(s,l,o,i,u,f,m){var y={year:2===l.length?Hr(Te(l)):Te(l),month:wn.indexOf(o)+1,day:Te(i),hour:Te(u),minute:Te(f)};return m&&(y.second=Te(m)),s&&(y.weekday=s.length>3?Tn.indexOf(s)+1:kn.indexOf(s)+1),y}var rt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mi(s){var A,w=s[8],T=s[9],E=s[10],D=s[11],_=Jr(s[1],s[4],s[3],s[2],s[5],s[6],s[7]);return A=w?Ii[w]:T?0:ge(E,D),[_,new ke(A)]}var z=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Kr=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ai=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wt(s){return[Jr(s[1],s[4],s[3],s[2],s[5],s[6],s[7]),ke.utcInstance]}function Ci(s){return[Jr(s[1],s[7],s[2],s[3],s[4],s[5],s[6]),ke.utcInstance]}var Ni=er(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mn),Or=er(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Mn),Li=er(/(\d{4})-?(\d{3})/,Mn),Ln=er(In),Fi=Ut(_i,gt,bt),Ri=Ut(Os,gt,bt),Qr=Ut(Ds,gt,bt),Dr=Ut(gt,bt),Pi=Ut(gt),Er=er(/(\d{4})-(\d\d)-(\d\d)/,_s),Xr=er(Ei),Yi=Ut(_i,gt,bt,An),Wi=Ut(gt,bt,An),Un={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Zi=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Un),ye=365.2425,de=30.436875,Bi=Object.assign({years:{quarters:4,months:12,weeks:ye/7,days:ye,hours:24*ye,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ye/28,days:ye/4,hours:24*ye/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:de/7,days:de,hours:24*de,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Un),Pt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qi=Pt.slice(0).reverse();function St(s,l,o){void 0===o&&(o=!1);var i={values:o?l.values:Object.assign({},s.values,l.values||{}),loc:s.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||s.conversionAccuracy};return new Ie(i)}function Se(s,l,o,i,u){var f=s[u][o],m=l[o]/f,w=Math.sign(m)!==Math.sign(i[u])&&0!==i[u]&&Math.abs(m)<=1?function(s){return s<0?Math.floor(s):Math.ceil(s)}(m):Math.trunc(m);i[u]+=w,l[o]-=w*f}var Ie=function(){function s(o){var i="longterm"===o.conversionAccuracy||!1;this.values=o.values,this.loc=o.loc||we.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=o.invalid||null,this.matrix=i?Bi:Zi,this.isLuxonDuration=!0}s.fromMillis=function(i,u){return s.fromObject(Object.assign({milliseconds:i},u))},s.fromObject=function(i){if(null==i||"object"!=typeof i)throw new Ee("Duration.fromObject: argument expected to be an object, got "+(null===i?"null":typeof i));return new s({values:pt(i,s.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:we.fromObject(i),conversionAccuracy:i.conversionAccuracy})},s.fromISO=function(i,u){var m=function(s){return tr(s,[Cn,xi])}(i)[0];if(m){var y=Object.assign(m,u);return s.fromObject(y)}return s.invalid("unparsable",'the input "'+i+"\" can't be parsed as ISO 8601")},s.fromISOTime=function(i,u){var m=function(s){return tr(s,[kr,Pi])}(i)[0];if(m){var y=Object.assign(m,u);return s.fromObject(y)}return s.invalid("unparsable",'the input "'+i+"\" can't be parsed as ISO 8601")},s.invalid=function(i,u){if(void 0===u&&(u=null),!i)throw new Ee("need to specify a reason the Duration is invalid");var f=i instanceof Ve?i:new Ve(i,u);if(C.throwOnInvalid)throw new Fr(f);return new s({invalid:f})},s.normalizeUnit=function(i){var u={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!u)throw new Ht(i);return u},s.isDuration=function(i){return i&&i.isLuxonDuration||!1};var l=s.prototype;return l.toFormat=function(i,u){void 0===u&&(u={});var f=Object.assign({},u,{floor:!1!==u.round&&!1!==u.floor});return this.isValid?qe.create(this.loc,f).formatDurationFromString(this,i):"Invalid Duration"},l.toObject=function(i){if(void 0===i&&(i={}),!this.isValid)return{};var u=Object.assign({},this.values);return i.includeConfig&&(u.conversionAccuracy=this.conversionAccuracy,u.numberingSystem=this.loc.numberingSystem,u.locale=this.loc.locale),u},l.toISO=function(){if(!this.isValid)return null;var i="P";return 0!==this.years&&(i+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(i+=this.months+3*this.quarters+"M"),0!==this.weeks&&(i+=this.weeks+"W"),0!==this.days&&(i+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(i+="T"),0!==this.hours&&(i+=this.hours+"H"),0!==this.minutes&&(i+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(i+=Yr(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===i&&(i+="T0S"),i},l.toISOTime=function(i){if(void 0===i&&(i={}),!this.isValid)return null;var u=this.toMillis();if(u<0||u>=864e5)return null;i=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},i);var f=this.shiftTo("hours","minutes","seconds","milliseconds"),m="basic"===i.format?"hhmm":"hh:mm";(!i.suppressSeconds||0!==f.seconds||0!==f.milliseconds)&&(m+="basic"===i.format?"ss":":ss",(!i.suppressMilliseconds||0!==f.milliseconds)&&(m+=".SSS"));var y=f.toFormat(m);return i.includePrefix&&(y="T"+y),y},l.toJSON=function(){return this.toISO()},l.toString=function(){return this.toISO()},l.toMillis=function(){return this.as("milliseconds")},l.valueOf=function(){return this.toMillis()},l.plus=function(i){if(!this.isValid)return this;for(var y,u=Tt(i),f={},m=Q(Pt);!(y=m()).done;){var w=y.value;(Bt(u.values,w)||Bt(this.values,w))&&(f[w]=u.get(w)+this.get(w))}return St(this,{values:f},!0)},l.minus=function(i){if(!this.isValid)return this;var u=Tt(i);return this.plus(u.negate())},l.mapUnits=function(i){if(!this.isValid)return this;for(var u={},f=0,m=Object.keys(this.values);f<m.length;f++){var y=m[f];u[y]=Ue(i(this.values[y],y))}return St(this,{values:u},!0)},l.get=function(i){return this[s.normalizeUnit(i)]},l.set=function(i){return this.isValid?St(this,{values:Object.assign(this.values,pt(i,s.normalizeUnit,[]))}):this},l.reconfigure=function(i){var u=void 0===i?{}:i,y=u.conversionAccuracy,T={loc:this.loc.clone({locale:u.locale,numberingSystem:u.numberingSystem})};return y&&(T.conversionAccuracy=y),St(this,T)},l.as=function(i){return this.isValid?this.shiftTo(i).get(i):NaN},l.normalize=function(){if(!this.isValid)return this;var i=this.toObject();return function(s,l){qi.reduce(function(o,i){return q(l[i])?o:(o&&Se(s,l,o,l,i),i)},null)}(this.matrix,i),St(this,{values:i},!0)},l.shiftTo=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];if(!this.isValid)return this;if(0===u.length)return this;u=u.map(function(Me){return s.normalizeUnit(Me)});for(var T,D,m={},y={},w=this.toObject(),E=Q(Pt);!(D=E()).done;){var _=D.value;if(u.indexOf(_)>=0){T=_;var A=0;for(var N in y)A+=this.matrix[N][_]*y[N],y[N]=0;mt(w[_])&&(A+=w[_]);var P=Math.trunc(A);for(var $ in m[_]=P,y[_]=A-P,w)Pt.indexOf($)>Pt.indexOf(_)&&Se(this.matrix,w,$,m,_)}else mt(w[_])&&(y[_]=w[_])}for(var R in y)0!==y[R]&&(m[T]+=R===T?y[R]:y[R]/this.matrix[T][R]);return St(this,{values:m},!0).normalize()},l.negate=function(){if(!this.isValid)return this;for(var i={},u=0,f=Object.keys(this.values);u<f.length;u++){var m=f[u];i[m]=-this.values[m]}return St(this,{values:i},!0)},l.equals=function(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;for(var m,f=Q(Pt);!(m=f()).done;){var y=m.value;if(T=i.values[y],!(void 0===(w=this.values[y])||0===w?void 0===T||0===T:w===T))return!1}var w,T;return!0},ne(s,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),s}();function Tt(s){if(mt(s))return Ie.fromMillis(s);if(Ie.isDuration(s))return s;if("object"==typeof s)return Ie.fromObject(s);throw new Ee("Unknown duration argument "+s+" of type "+typeof s)}var nr="Invalid Interval",ir=function(){function s(o){this.s=o.start,this.e=o.end,this.invalid=o.invalid||null,this.isLuxonInterval=!0}s.invalid=function(i,u){if(void 0===u&&(u=null),!i)throw new Ee("need to specify a reason the Interval is invalid");var f=i instanceof Ve?i:new Ve(i,u);if(C.throwOnInvalid)throw new Ce(f);return new s({invalid:f})},s.fromDateTimes=function(i,u){var f=Ge(i),m=Ge(u),y=function(s,l){return s&&s.isValid?l&&l.isValid?l<s?ir.invalid("end before start","The end of an interval must be after its start, but you had start="+s.toISO()+" and end="+l.toISO()):null:ir.invalid("missing or invalid end"):ir.invalid("missing or invalid start")}(f,m);return null==y?new s({start:f,end:m}):y},s.after=function(i,u){var f=Tt(u),m=Ge(i);return s.fromDateTimes(m,m.plus(f))},s.before=function(i,u){var f=Tt(u),m=Ge(i);return s.fromDateTimes(m.minus(f),m)},s.fromISO=function(i,u){var f=(i||"").split("/",2),m=f[0],y=f[1];if(m&&y){var w,T,E,D;try{T=(w=me.fromISO(m,u)).isValid}catch(N){T=!1}try{D=(E=me.fromISO(y,u)).isValid}catch(N){D=!1}if(T&&D)return s.fromDateTimes(w,E);if(T){var _=Ie.fromISO(y,u);if(_.isValid)return s.after(w,_)}else if(D){var A=Ie.fromISO(m,u);if(A.isValid)return s.before(E,A)}}return s.invalid("unparsable",'the input "'+i+"\" can't be parsed as ISO 8601")},s.isInterval=function(i){return i&&i.isLuxonInterval||!1};var l=s.prototype;return l.length=function(i){return void 0===i&&(i="milliseconds"),this.isValid?this.toDuration.apply(this,[i]).get(i):NaN},l.count=function(i){if(void 0===i&&(i="milliseconds"),!this.isValid)return NaN;var u=this.start.startOf(i),f=this.end.startOf(i);return Math.floor(f.diff(u,i).get(i))+1},l.hasSame=function(i){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,i))},l.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},l.isAfter=function(i){return!!this.isValid&&this.s>i},l.isBefore=function(i){return!!this.isValid&&this.e<=i},l.contains=function(i){return!!this.isValid&&this.s<=i&&this.e>i},l.set=function(i){var u=void 0===i?{}:i;return this.isValid?s.fromDateTimes(u.start||this.s,u.end||this.e):this},l.splitAt=function(){var i=this;if(!this.isValid)return[];for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];for(var y=f.map(Ge).filter(function(A){return i.contains(A)}).sort(),w=[],T=this.s,E=0;T<this.e;){var D=y[E]||this.e,_=+D>+this.e?this.e:D;w.push(s.fromDateTimes(T,_)),T=_,E+=1}return w},l.splitBy=function(i){var u=Tt(i);if(!this.isValid||!u.isValid||0===u.as("milliseconds"))return[];for(var y,f=this.s,m=1,w=[];f<this.e;){var T=this.start.plus(u.mapUnits(function(E){return E*m}));w.push(s.fromDateTimes(f,y=+T>+this.e?this.e:T)),f=y,m+=1}return w},l.divideEqually=function(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]},l.overlaps=function(i){return this.e>i.s&&this.s<i.e},l.abutsStart=function(i){return!!this.isValid&&+this.e==+i.s},l.abutsEnd=function(i){return!!this.isValid&&+i.e==+this.s},l.engulfs=function(i){return!!this.isValid&&this.s<=i.s&&this.e>=i.e},l.equals=function(i){return!(!this.isValid||!i.isValid)&&this.s.equals(i.s)&&this.e.equals(i.e)},l.intersection=function(i){if(!this.isValid)return this;var u=this.s>i.s?this.s:i.s,f=this.e<i.e?this.e:i.e;return u>=f?null:s.fromDateTimes(u,f)},l.union=function(i){return this.isValid?s.fromDateTimes(this.s<i.s?this.s:i.s,this.e>i.e?this.e:i.e):this},s.merge=function(i){var u=i.sort(function(y,w){return y.s-w.s}).reduce(function(y,w){var T=y[0],E=y[1];return E?E.overlaps(w)||E.abutsStart(w)?[T,E.union(w)]:[T.concat([E]),w]:[T,w]},[[],null]),f=u[0],m=u[1];return m&&f.push(m),f},s.xor=function(i){for(var u,_,f=null,m=0,y=[],w=i.map(function(N){return[{time:N.s,type:"s"},{time:N.e,type:"e"}]}),D=Q((u=Array.prototype).concat.apply(u,w).sort(function(N,P){return N.time-P.time}));!(_=D()).done;){var A=_.value;1===(m+="s"===A.type?1:-1)?f=A.time:(f&&+f!=+A.time&&y.push(s.fromDateTimes(f,A.time)),f=null)}return s.merge(y)},l.difference=function(){for(var i=this,u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];return s.xor([this].concat(f)).map(function(y){return i.intersection(y)}).filter(function(y){return y&&!y.isEmpty()})},l.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":nr},l.toISO=function(i){return this.isValid?this.s.toISO(i)+"/"+this.e.toISO(i):nr},l.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():nr},l.toISOTime=function(i){return this.isValid?this.s.toISOTime(i)+"/"+this.e.toISOTime(i):nr},l.toFormat=function(i,u){var m=(void 0===u?{}:u).separator,y=void 0===m?" \u2013 ":m;return this.isValid?""+this.s.toFormat(i)+y+this.e.toFormat(i):nr},l.toDuration=function(i,u){return this.isValid?this.e.diff(this.s,i,u):Ie.invalid(this.invalidReason)},l.mapEndpoints=function(i){return s.fromDateTimes(i(this.s),i(this.e))},ne(s,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),s}(),sr=function(){function s(){}return s.hasDST=function(o){void 0===o&&(o=C.defaultZone);var i=me.now().setZone(o).set({month:12});return!o.universal&&i.offset!==i.set({month:6}).offset},s.isValidIANAZone=function(o){return tt.isValidSpecifier(o)&&tt.isValidZone(o)},s.normalizeZone=function(o){return fe(o,C.defaultZone)},s.months=function(o,i){void 0===o&&(o="long");var u=void 0===i?{}:i,f=u.locale,y=u.numberingSystem,T=u.locObj,D=u.outputCalendar;return((void 0===T?null:T)||we.create(void 0===f?null:f,void 0===y?null:y,void 0===D?"gregory":D)).months(o)},s.monthsFormat=function(o,i){void 0===o&&(o="long");var u=void 0===i?{}:i,f=u.locale,y=u.numberingSystem,T=u.locObj,D=u.outputCalendar;return((void 0===T?null:T)||we.create(void 0===f?null:f,void 0===y?null:y,void 0===D?"gregory":D)).months(o,!0)},s.weekdays=function(o,i){void 0===o&&(o="long");var u=void 0===i?{}:i,f=u.locale,y=u.numberingSystem,T=u.locObj;return((void 0===T?null:T)||we.create(void 0===f?null:f,void 0===y?null:y,null)).weekdays(o)},s.weekdaysFormat=function(o,i){void 0===o&&(o="long");var u=void 0===i?{}:i,f=u.locale,y=u.numberingSystem,T=u.locObj;return((void 0===T?null:T)||we.create(void 0===f?null:f,void 0===y?null:y,null)).weekdays(o,!0)},s.meridiems=function(o){var u=(void 0===o?{}:o).locale;return we.create(void 0===u?null:u).meridiems()},s.eras=function(o,i){void 0===o&&(o="short");var f=(void 0===i?{}:i).locale;return we.create(void 0===f?null:f,null,"gregory").eras(o)},s.features=function(){var o=!1,i=!1,u=!1,f=!1;if(Z()){o=!0,i=It(),f=pn();try{u="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch(m){u=!1}}return{intl:o,intlTokens:i,zones:u,relative:f}},s}();function Pn(s,l){var o=function(f){return f.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},i=o(l)-o(s);return Math.floor(Ie.fromMillis(i).as("days"))}var en={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$n={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Yn=en.hanidec.replace(/[\[|\]]/g,"").split("");function $e(s,l){return void 0===l&&(l=""),new RegExp(""+en[s.numberingSystem||"latn"]+l)}function K(s,l){return void 0===l&&(l=function(i){return i}),{regex:s,deser:function(i){return l(function(s){var l=parseInt(s,10);if(isNaN(l)){l="";for(var o=0;o<s.length;o++){var i=s.charCodeAt(o);if(-1!==s[o].search(en.hanidec))l+=Yn.indexOf(s[o]);else for(var u in $n){var f=$n[u],m=f[0];i>=m&&i<=f[1]&&(l+=i-m)}}return parseInt(l,10)}return l}(i[0]))}}}var Ye="( |"+String.fromCharCode(160)+")",_r=new RegExp(Ye,"g");function Xi(s){return s.replace(/\./g,"\\.?").replace(_r,Ye)}function Wn(s){return s.replace(/\./g,"").replace(_r," ").toLowerCase()}function G(s,l){return null===s?null:{regex:RegExp(s.map(Xi).join("|")),deser:function(i){var u=i[0];return s.findIndex(function(f){return Wn(u)===Wn(f)})+l}}}function Hn(s,l){return{regex:s,deser:function(i){return ge(i[1],i[2])},groups:l}}function tn(s){return{regex:s,deser:function(o){return o[0]}}}function es(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Vn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},nn=null;function qn(s,l,o){var i=function(s,l){var o;return(o=Array.prototype).concat.apply(o,s.map(function(i){return function(s,l){if(s.literal)return s;var o=qe.macroTokenToFormatOpts(s.val);if(!o)return s;var f=qe.create(l,o).formatDateTimeParts((nn||(nn=me.fromMillis(1555555555555)),nn)).map(function(m){return function(s,l,o){var i=s.type;if("literal"===i)return{literal:!0,val:s.value};var m=Vn[i];return"object"==typeof m&&(m=m[o[i]]),m?{literal:!1,val:m}:void 0}(m,0,o)});return f.includes(void 0)?s:f}(i,l)}))}(qe.parseFormat(o),s),u=i.map(function($){return function(s,l){var o=$e(l),i=$e(l,"{2}"),u=$e(l,"{3}"),f=$e(l,"{4}"),m=$e(l,"{6}"),y=$e(l,"{1,2}"),w=$e(l,"{1,3}"),T=$e(l,"{1,6}"),E=$e(l,"{1,9}"),D=$e(l,"{2,4}"),_=$e(l,"{4,6}"),A=function(R){return{regex:RegExp(es(R.val)),deser:function(kt){return kt[0]},literal:!0}},P=function(R){if(s.literal)return A(R);switch(R.val){case"G":return G(l.eras("short",!1),0);case"GG":return G(l.eras("long",!1),0);case"y":return K(T);case"yy":return K(D,Hr);case"yyyy":return K(f);case"yyyyy":return K(_);case"yyyyyy":return K(m);case"M":return K(y);case"MM":return K(i);case"MMM":return G(l.months("short",!0,!1),1);case"MMMM":return G(l.months("long",!0,!1),1);case"L":return K(y);case"LL":return K(i);case"LLL":return G(l.months("short",!1,!1),1);case"LLLL":return G(l.months("long",!1,!1),1);case"d":return K(y);case"dd":return K(i);case"o":return K(w);case"ooo":return K(u);case"HH":return K(i);case"H":return K(y);case"hh":return K(i);case"h":return K(y);case"mm":return K(i);case"m":case"q":return K(y);case"qq":return K(i);case"s":return K(y);case"ss":return K(i);case"S":return K(w);case"SSS":return K(u);case"u":return tn(E);case"a":return G(l.meridiems(),0);case"kkkk":return K(f);case"kk":return K(D,Hr);case"W":return K(y);case"WW":return K(i);case"E":case"c":return K(o);case"EEE":return G(l.weekdays("short",!1,!1),1);case"EEEE":return G(l.weekdays("long",!1,!1),1);case"ccc":return G(l.weekdays("short",!0,!1),1);case"cccc":return G(l.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Hn(new RegExp("([+-]"+y.source+")(?::("+i.source+"))?"),2);case"ZZZ":return Hn(new RegExp("([+-]"+y.source+")("+i.source+")?"),2);case"z":return tn(/[a-z_+-/]{1,256}?/i);default:return A(R)}}(s)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return P.token=s,P}($,s)}),f=u.find(function($){return $.invalidReason});if(f)return{input:l,tokens:i,invalidReason:f.invalidReason};var m=function(s){return["^"+s.map(function(o){return o.regex}).reduce(function(o,i){return o+"("+i.source+")"},"")+"$",s]}(u),w=m[1],T=RegExp(m[0],"i"),E=function(s,l,o){var i=s.match(l);if(i){var u={},f=1;for(var m in o)if(Bt(o,m)){var y=o[m],w=y.groups?y.groups+1:1;!y.literal&&y.token&&(u[y.token.val[0]]=y.deser(i.slice(f,f+w))),f+=w}return[i,u]}return[i,{}]}(l,T,w),D=E[0],_=E[1],A=_?function(s){var o;return o=q(s.Z)?q(s.z)?null:tt.create(s.z):new ke(s.Z),q(s.q)||(s.M=3*(s.q-1)+1),q(s.h)||(s.h<12&&1===s.a?s.h+=12:12===s.h&&0===s.a&&(s.h=0)),0===s.G&&s.y&&(s.y=-s.y),q(s.u)||(s.S=mr(s.u)),[Object.keys(s).reduce(function(u,f){var m=function(f){switch(f){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(f);return m&&(u[m]=s[f]),u},{}),o]}(_):[null,null],N=A[0],P=A[1];if(Bt(_,"a")&&Bt(_,"H"))throw new ft("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:i,regex:T,rawMatches:D,matches:_,result:N,zone:P}}var sn=[0,31,59,90,120,151,181,212,243,273,304,334],an=[0,31,60,91,121,152,182,213,244,274,305,335];function Re(s,l){return new Ve("unit out of range","you specified "+l+" (of type "+typeof l+") as a "+s+", which is invalid")}function re(s,l,o){var i=new Date(Date.UTC(s,l-1,o)).getUTCDay();return 0===i?7:i}function zn(s,l,o){return o+(qt(s)?an:sn)[l-1]}function on(s,l){var o=qt(s)?an:sn,i=o.findIndex(function(f){return f<l});return{month:i+1,day:l-o[i]}}function g(s){var y,l=s.year,o=s.month,i=s.day,u=zn(l,o,i),f=re(l,o,i),m=Math.floor((u-f+10)/7);return m<1?m=zt(y=l-1):m>zt(l)?(y=l+1,m=1):y=l,Object.assign({weekYear:y,weekNumber:m,weekday:f},Mt(s))}function Gn(s){var y,l=s.weekYear,o=s.weekNumber,i=s.weekday,u=re(l,1,4),f=yr(l),m=7*o+i-u-3;m<1?m+=yr(y=l-1):m>f?(y=l+1,m-=yr(l)):y=l;var w=on(y,m);return Object.assign({year:y,month:w.month,day:w.day},Mt(s))}function xr(s){var l=s.year,u=zn(l,s.month,s.day);return Object.assign({year:l,ordinal:u},Mt(s))}function Jn(s){var l=s.year,i=on(l,s.ordinal);return Object.assign({year:l,month:i.month,day:i.day},Mt(s))}function Kn(s){var l=$r(s.year),o=He(s.month,1,12),i=He(s.day,1,pr(s.year,s.month));return l?o?!i&&Re("day",s.day):Re("month",s.month):Re("year",s.year)}function $t(s){var l=s.hour,o=s.minute,i=s.second,u=s.millisecond,f=He(l,0,23)||24===l&&0===o&&0===i&&0===u,m=He(o,0,59),y=He(i,0,59),w=He(u,0,999);return f?m?y?!w&&Re("millisecond",u):Re("second",i):Re("minute",o):Re("hour",l)}var le="Invalid DateTime",Qn=864e13;function Ir(s){return new Ve("unsupported zone",'the zone "'+s.name+'" is not supported')}function un(s){return null===s.weekData&&(s.weekData=g(s.c)),s.weekData}function ar(s,l){var o={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new me(Object.assign({},o,l,{old:o}))}function Xn(s,l,o){var i=s-60*l*1e3,u=o.offset(i);if(l===u)return[i,l];var f=o.offset(i-=60*(u-l)*1e3);return u===f?[i,u]:[s-60*Math.min(u,f)*1e3,Math.max(u,f)]}function ei(s,l){var o=new Date(s+=60*l*1e3);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function Mr(s,l,o){return Xn(Wr(s),l,o)}function ti(s,l){var o=s.o,i=s.c.year+Math.trunc(l.years),u=s.c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters),f=Object.assign({},s.c,{year:i,month:u,day:Math.min(s.c.day,pr(i,u))+Math.trunc(l.days)+7*Math.trunc(l.weeks)}),m=Ie.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),w=Xn(Wr(f),o,s.zone),T=w[0],E=w[1];return 0!==m&&(E=s.zone.offset(T+=m)),{ts:T,o:E}}function or(s,l,o,i,u){var f=o.setZone,m=o.zone;if(s&&0!==Object.keys(s).length){var w=me.fromObject(Object.assign(s,o,{zone:l||m,setZone:void 0}));return f?w:w.setZone(m)}return me.invalid(new Ve("unparsable",'the input "'+u+"\" can't be parsed as "+i))}function Yt(s,l,o){return void 0===o&&(o=!0),s.isValid?qe.create(we.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(s,l):null}function ri(s,l){var o=l.suppressSeconds,u=l.suppressMilliseconds,m=l.includeOffset,y=l.includePrefix,w=void 0!==y&&y,T=l.includeZone,E=void 0!==T&&T,D=l.spaceZone,A=l.format,N=void 0===A?"extended":A,P="basic"===N?"HHmm":"HH:mm";(!(void 0!==o&&o)||0!==s.second||0!==s.millisecond)&&(P+="basic"===N?"ss":":ss",(!(void 0!==u&&u)||0!==s.millisecond)&&(P+=".SSS")),(E||m)&&void 0!==D&&D&&(P+=" "),E?P+="z":m&&(P+="basic"===N?"ZZZ":"ZZ");var $=Yt(s,P);return w&&($="T"+$),$}var ni={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ls={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cs={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ii=["year","month","day","hour","minute","second","millisecond"],it=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ln=["year","ordinal","hour","minute","second","millisecond"];function lt(s){var l={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!l)throw new Ht(s);return l}function Ar(s,l){for(var i,o=Q(ii);!(i=o()).done;){var u=i.value;q(s[u])&&(s[u]=ni[u])}var f=Kn(s)||$t(s);if(f)return me.invalid(f);var m=C.now(),w=Mr(s,l.offset(m),l);return new me({ts:w[0],zone:l,o:w[1]})}function Cr(s,l,o){var i=!!q(o.round)||o.round,u=function(D,_){return D=Yr(D,i||o.calendary?0:2,!0),l.loc.clone(o).relFormatter(o).format(D,_)},f=function(D){return o.calendary?l.hasSame(s,D)?0:l.startOf(D).diff(s.startOf(D),D).get(D):l.diff(s,D).get(D)};if(o.unit)return u(f(o.unit),o.unit);for(var y,m=Q(o.units);!(y=m()).done;){var w=y.value,T=f(w);if(Math.abs(T)>=1)return u(T,w)}return u(s>l?-0:0,o.units[o.units.length-1])}var me=function(){function s(o){var i=o.zone||C.defaultZone,u=o.invalid||(Number.isNaN(o.ts)?new Ve("invalid input"):null)||(i.isValid?null:Ir(i));this.ts=q(o.ts)?C.now():o.ts;var f=null,m=null;if(!u)if(o.old&&o.old.ts===this.ts&&o.old.zone.equals(i)){var w=[o.old.c,o.old.o];f=w[0],m=w[1]}else{var T=i.offset(this.ts);f=ei(this.ts,T),f=(u=Number.isNaN(f.year)?new Ve("invalid input"):null)?null:f,m=u?null:T}this._zone=i,this.loc=o.loc||we.create(),this.invalid=u,this.weekData=null,this.c=f,this.o=m,this.isLuxonDateTime=!0}s.now=function(){return new s({})},s.local=function(i,u,f,m,y,w,T){return q(i)?s.now():Ar({year:i,month:u,day:f,hour:m,minute:y,second:w,millisecond:T},C.defaultZone)},s.utc=function(i,u,f,m,y,w,T){return q(i)?new s({ts:C.now(),zone:ke.utcInstance}):Ar({year:i,month:u,day:f,hour:m,minute:y,second:w,millisecond:T},ke.utcInstance)},s.fromJSDate=function(i,u){void 0===u&&(u={});var f=function(s){return"[object Date]"===Object.prototype.toString.call(s)}(i)?i.valueOf():NaN;if(Number.isNaN(f))return s.invalid("invalid input");var m=fe(u.zone,C.defaultZone);return m.isValid?new s({ts:f,zone:m,loc:we.fromObject(u)}):s.invalid(Ir(m))},s.fromMillis=function(i,u){if(void 0===u&&(u={}),mt(i))return i<-Qn||i>Qn?s.invalid("Timestamp out of range"):new s({ts:i,zone:fe(u.zone,C.defaultZone),loc:we.fromObject(u)});throw new Ee("fromMillis requires a numerical input, but received a "+typeof i+" with value "+i)},s.fromSeconds=function(i,u){if(void 0===u&&(u={}),mt(i))return new s({ts:1e3*i,zone:fe(u.zone,C.defaultZone),loc:we.fromObject(u)});throw new Ee("fromSeconds requires a numerical input")},s.fromObject=function(i){var u=fe(i.zone,C.defaultZone);if(!u.isValid)return s.invalid(Ir(u));var f=C.now(),m=u.offset(f),y=pt(i,lt,["zone","locale","outputCalendar","numberingSystem"]),w=!q(y.ordinal),T=!q(y.year),E=!q(y.month)||!q(y.day),D=T||E,_=y.weekYear||y.weekNumber,A=we.fromObject(i);if((D||w)&&_)throw new ft("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(E&&w)throw new ft("Can't mix ordinal dates with month/day");var P,$,N=_||y.weekday&&!D,R=ei(f,m);N?(P=it,$=ls,R=g(R)):w?(P=ln,$=cs,R=xr(R)):(P=ii,$=ni);for(var Ot,Me=!1,kt=Q(P);!(Ot=kt()).done;){var ct=Ot.value;q(y[ct])?y[ct]=Me?$[ct]:R[ct]:Me=!0}var fn=(N?function(s){var l=$r(s.weekYear),o=He(s.weekNumber,1,zt(s.weekYear)),i=He(s.weekday,1,7);return l?o?!i&&Re("weekday",s.weekday):Re("week",s.week):Re("weekYear",s.weekYear)}(y):w?function(s){var l=$r(s.year),o=He(s.ordinal,1,yr(s.year));return l?!o&&Re("ordinal",s.ordinal):Re("year",s.year)}(y):Kn(y))||$t(y);if(fn)return s.invalid(fn);var hn=Mr(N?Gn(y):w?Jn(y):y,m,u),ai=new s({ts:hn[0],zone:u,o:hn[1],loc:A});return y.weekday&&D&&i.weekday!==ai.weekday?s.invalid("mismatched weekday","you can't specify both a weekday of "+y.weekday+" and a date of "+ai.toISO()):ai},s.fromISO=function(i,u){void 0===u&&(u={});var f=function(s){return tr(s,[Ni,Fi],[Or,Ri],[Li,Qr],[Ln,Dr])}(i);return or(f[0],f[1],u,"ISO 8601",i)},s.fromRFC2822=function(i,u){void 0===u&&(u={});var f=function(s){return tr(function(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(s),[rt,Mi])}(i);return or(f[0],f[1],u,"RFC 2822",i)},s.fromHTTP=function(i,u){void 0===u&&(u={});var f=function(s){return tr(s,[z,wt],[Kr,wt],[Ai,Ci])}(i);return or(f[0],f[1],u,"HTTP",u)},s.fromFormat=function(i,u,f){if(void 0===f&&(f={}),q(i)||q(u))throw new Ee("fromFormat requires an input string and a format");var y=f.locale,T=f.numberingSystem,_=function(s,l,o){var i=qn(s,l,o);return[i.result,i.zone,i.invalidReason]}(we.fromOpts({locale:void 0===y?null:y,numberingSystem:void 0===T?null:T,defaultToEN:!0}),i,u),A=_[0],N=_[1],P=_[2];return P?s.invalid(P):or(A,N,f,"format "+u,i)},s.fromString=function(i,u,f){return void 0===f&&(f={}),s.fromFormat(i,u,f)},s.fromSQL=function(i,u){void 0===u&&(u={});var f=function(s){return tr(s,[Er,Yi],[Xr,Wi])}(i);return or(f[0],f[1],u,"SQL",i)},s.invalid=function(i,u){if(void 0===u&&(u=null),!i)throw new Ee("need to specify a reason the DateTime is invalid");var f=i instanceof Ve?i:new Ve(i,u);if(C.throwOnInvalid)throw new fr(f);return new s({invalid:f})},s.isDateTime=function(i){return i&&i.isLuxonDateTime||!1};var l=s.prototype;return l.get=function(i){return this[i]},l.resolvedLocaleOpts=function(i){void 0===i&&(i={});var u=qe.create(this.loc.clone(i),i).resolvedOptions(this);return{locale:u.locale,numberingSystem:u.numberingSystem,outputCalendar:u.calendar}},l.toUTC=function(i,u){return void 0===i&&(i=0),void 0===u&&(u={}),this.setZone(ke.instance(i),u)},l.toLocal=function(){return this.setZone(C.defaultZone)},l.setZone=function(i,u){var f=void 0===u?{}:u,m=f.keepLocalTime,y=void 0!==m&&m,w=f.keepCalendarTime,T=void 0!==w&&w;if((i=fe(i,C.defaultZone)).equals(this.zone))return this;if(i.isValid){var E=this.ts;if(y||T){var D=i.offset(this.ts);E=Mr(this.toObject(),D,i)[0]}return ar(this,{ts:E,zone:i})}return s.invalid(Ir(i))},l.reconfigure=function(i){var u=void 0===i?{}:i;return ar(this,{loc:this.loc.clone({locale:u.locale,numberingSystem:u.numberingSystem,outputCalendar:u.outputCalendar})})},l.setLocale=function(i){return this.reconfigure({locale:i})},l.set=function(i){if(!this.isValid)return this;var D,u=pt(i,lt,[]),f=!q(u.weekYear)||!q(u.weekNumber)||!q(u.weekday),m=!q(u.ordinal),y=!q(u.year),w=!q(u.month)||!q(u.day);if((y||w||m)&&(u.weekYear||u.weekNumber))throw new ft("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new ft("Can't mix ordinal dates with month/day");f?D=Gn(Object.assign(g(this.c),u)):q(u.ordinal)?(D=Object.assign(this.toObject(),u),q(u.day)&&(D.day=Math.min(pr(D.year,D.month),D.day))):D=Jn(Object.assign(xr(this.c),u));var _=Mr(D,this.o,this.zone);return ar(this,{ts:_[0],o:_[1]})},l.plus=function(i){return this.isValid?ar(this,ti(this,Tt(i))):this},l.minus=function(i){return this.isValid?ar(this,ti(this,Tt(i).negate())):this},l.startOf=function(i){if(!this.isValid)return this;var u={},f=Ie.normalizeUnit(i);switch(f){case"years":u.month=1;case"quarters":case"months":u.day=1;case"weeks":case"days":u.hour=0;case"hours":u.minute=0;case"minutes":u.second=0;case"seconds":u.millisecond=0}if("weeks"===f&&(u.weekday=1),"quarters"===f){var m=Math.ceil(this.month/3);u.month=3*(m-1)+1}return this.set(u)},l.endOf=function(i){var u;return this.isValid?this.plus((u={},u[i]=1,u)).startOf(i).minus(1):this},l.toFormat=function(i,u){return void 0===u&&(u={}),this.isValid?qe.create(this.loc.redefaultToEN(u)).formatDateTimeFromString(this,i):le},l.toLocaleString=function(i){return void 0===i&&(i=xt),this.isValid?qe.create(this.loc.clone(i),i).formatDateTime(this):le},l.toLocaleParts=function(i){return void 0===i&&(i={}),this.isValid?qe.create(this.loc.clone(i),i).formatDateTimeParts(this):[]},l.toISO=function(i){return void 0===i&&(i={}),this.isValid?this.toISODate(i)+"T"+this.toISOTime(i):null},l.toISODate=function(i){var f=(void 0===i?{}:i).format,y="basic"===(void 0===f?"extended":f)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(y="+"+y),Yt(this,y)},l.toISOWeekDate=function(){return Yt(this,"kkkk-'W'WW-c")},l.toISOTime=function(i){var u=void 0===i?{}:i,f=u.suppressMilliseconds,y=u.suppressSeconds,T=u.includeOffset,D=u.includePrefix,A=u.format;return ri(this,{suppressSeconds:void 0!==y&&y,suppressMilliseconds:void 0!==f&&f,includeOffset:void 0===T||T,includePrefix:void 0!==D&&D,format:void 0===A?"extended":A})},l.toRFC2822=function(){return Yt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},l.toHTTP=function(){return Yt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},l.toSQLDate=function(){return Yt(this,"yyyy-MM-dd")},l.toSQLTime=function(i){var u=void 0===i?{}:i,f=u.includeOffset,y=u.includeZone;return ri(this,{includeOffset:void 0===f||f,includeZone:void 0!==y&&y,spaceZone:!0})},l.toSQL=function(i){return void 0===i&&(i={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(i):null},l.toString=function(){return this.isValid?this.toISO():le},l.valueOf=function(){return this.toMillis()},l.toMillis=function(){return this.isValid?this.ts:NaN},l.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},l.toJSON=function(){return this.toISO()},l.toBSON=function(){return this.toJSDate()},l.toObject=function(i){if(void 0===i&&(i={}),!this.isValid)return{};var u=Object.assign({},this.c);return i.includeConfig&&(u.outputCalendar=this.outputCalendar,u.numberingSystem=this.loc.numberingSystem,u.locale=this.loc.locale),u},l.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},l.diff=function(i,u,f){if(void 0===u&&(u="milliseconds"),void 0===f&&(f={}),!this.isValid||!i.isValid)return Ie.invalid(this.invalid||i.invalid,"created by diffing an invalid DateTime");var m=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},f),y=function(s){return Array.isArray(s)?s:[s]}(u).map(Ie.normalizeUnit),w=i.valueOf()>this.valueOf(),D=function(s,l,o,i){var D,u=function(s,l,o){for(var f,m,u={},y=0,w=[["years",function(P,$){return $.year-P.year}],["quarters",function(P,$){return $.quarter-P.quarter}],["months",function(P,$){return $.month-P.month+12*($.year-P.year)}],["weeks",function(P,$){var R=Pn(P,$);return(R-R%7)/7}],["days",Pn]];y<w.length;y++){var T=w[y],E=T[0],D=T[1];if(o.indexOf(E)>=0){var _;f=E;var N,A=D(s,l);(m=s.plus(((_={})[E]=A,_)))>l?(s=s.plus(((N={})[E]=A-1,N)),A-=1):s=m,u[E]=A}}return[s,u,m,f]}(s,l,o),f=u[0],m=u[1],y=u[2],w=u[3],T=l-f,E=o.filter(function(N){return["hours","minutes","seconds","milliseconds"].indexOf(N)>=0});0===E.length&&(y<l&&(y=f.plus(((D={})[w]=1,D))),y!==f&&(m[w]=(m[w]||0)+T/(y-f)));var A,_=Ie.fromObject(Object.assign(m,i));return E.length>0?(A=Ie.fromMillis(T,i)).shiftTo.apply(A,E).plus(_):_}(w?this:i,w?i:this,y,m);return w?D.negate():D},l.diffNow=function(i,u){return void 0===i&&(i="milliseconds"),void 0===u&&(u={}),this.diff(s.now(),i,u)},l.until=function(i){return this.isValid?ir.fromDateTimes(this,i):this},l.hasSame=function(i,u){if(!this.isValid)return!1;var f=i.valueOf(),m=this.setZone(i.zone,{keepLocalTime:!0});return m.startOf(u)<=f&&f<=m.endOf(u)},l.equals=function(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)},l.toRelative=function(i){if(void 0===i&&(i={}),!this.isValid)return null;var u=i.base||s.fromObject({zone:this.zone}),f=i.padding?this<u?-i.padding:i.padding:0,m=["years","months","days","hours","minutes","seconds"],y=i.unit;return Array.isArray(i.unit)&&(m=i.unit,y=void 0),Cr(u,this.plus(f),Object.assign(i,{numeric:"always",units:m,unit:y}))},l.toRelativeCalendar=function(i){return void 0===i&&(i={}),this.isValid?Cr(i.base||s.fromObject({zone:this.zone}),this,Object.assign(i,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},s.min=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];if(!u.every(s.isDateTime))throw new Ee("min requires all arguments be DateTimes");return Qe(u,function(m){return m.valueOf()},Math.min)},s.max=function(){for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];if(!u.every(s.isDateTime))throw new Ee("max requires all arguments be DateTimes");return Qe(u,function(m){return m.valueOf()},Math.max)},s.fromFormatExplain=function(i,u,f){void 0===f&&(f={});var y=f.locale,T=f.numberingSystem;return qn(we.fromOpts({locale:void 0===y?null:y,numberingSystem:void 0===T?null:T,defaultToEN:!0}),i,u)},s.fromStringExplain=function(i,u,f){return void 0===f&&(f={}),s.fromFormatExplain(i,u,f)},ne(s,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?un(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?un(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?un(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?xr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?sr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?sr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?sr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?sr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return qt(this.year)}},{key:"daysInMonth",get:function(){return pr(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?yr(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?zt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return xt}},{key:"DATE_MED",get:function(){return Ne}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return hr}},{key:"DATE_FULL",get:function(){return ht}},{key:"DATE_HUGE",get:function(){return k}},{key:"TIME_SIMPLE",get:function(){return I}},{key:"TIME_WITH_SECONDS",get:function(){return j}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return se}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ce}},{key:"TIME_24_SIMPLE",get:function(){return W}},{key:"TIME_24_WITH_SECONDS",get:function(){return _e}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return ae}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return dt}},{key:"DATETIME_SHORT",get:function(){return Rr}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return xe}},{key:"DATETIME_MED",get:function(){return Ur}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return jr}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return yn}},{key:"DATETIME_FULL",get:function(){return Pr}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Vt}},{key:"DATETIME_HUGE",get:function(){return Zt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return at}}]),s}();function Ge(s){if(me.isDateTime(s))return s;if(s&&s.valueOf&&mt(s.valueOf()))return me.fromJSDate(s);if(s&&"object"==typeof s)return me.fromObject(s);throw new Ee("Unknown datetime argument: "+s+", of type "+typeof s)}De.ou=me},6033:(Je,De,V)=>{var ie;if("object"==typeof globalThis)ie=globalThis;else try{ie=V(188)}catch(ee){}finally{if(!ie&&"undefined"!=typeof window&&(ie=window),!ie)throw new Error("Could not determine global this")}var ne=ie.WebSocket||ie.MozWebSocket,J=V(1632);function Et(ee,be){return be?new ne(ee,be):new ne(ee)}ne&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(ee){Object.defineProperty(Et,ee,{get:function(){return ne[ee]}})}),Je.exports={w3cwebsocket:ne?Et:null,version:J}},1632:(Je,De,V)=>{Je.exports=V(9794).version},9794:Je=>{"use strict";Je.exports={version:"1.0.34"}}}]);