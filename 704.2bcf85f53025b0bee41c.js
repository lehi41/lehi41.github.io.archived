"use strict";(self.webpackChunklehi41=self.webpackChunklehi41||[]).push([[704],{3704:($,p,a)=>{a.r(p),a.d(p,{CallingsModule:()=>U});var u=a(8583),d=a(1052),g=a(3996),A=a(3234),e=a(3018);let f=(()=>{class t extends A.a{constructor(){super("callings")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a(7988);function b(t,o){1&t&&(e.TgZ(0,"div",4),e._uU(1,"No Data Yet"),e.qZA())}function T(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e.TgZ(6,"a",10),e._uU(7,"edit"),e.qZA(),e.TgZ(8,"button",11),e.NdJ("click",function(){const m=e.CHM(i).$implicit;return e.oxw(2).deleteItem(m)}),e._uU(9," delete "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=o.$implicit;e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(i.organization),e.xp6(2),e.MGl("routerLink","/admin/callings/edit/",i.id,"")}}function N(t,o){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"table",6),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",7),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Organization"),e.qZA(),e._UZ(8,"th",7),e.qZA(),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,T,10,3,"tr",8),e.ALo(11,"async"),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.oxw();e.xp6(10),e.Q6J("ngForOf",e.lcZ(11,1,i.data$))}}let _=(()=>{class t extends g._{constructor(i,n,l){super(i,n),this.route=i,this.router=n,this.callingsApiService=l,this.callingsApiService.refreshData(),this.data$=this.callingsApiService.data$}deleteItem(i){this.callingsApiService.deleteItem(i.id).then(()=>{this.callingsApiService.refreshData()})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lehi41-callings-list"]],features:[e.qOj],decls:9,vars:6,consts:[[1,"d-flex","mb-3","justify-content-between","align-items-center"],["routerLink","/admin/callings/new","type","button",1,"btn","btn-sm","btn-outline-primary"],["class","empty-data",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"empty-data"],[1,"table-responsive"],["datatable","",1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3"),e._uU(2,"Callings"),e.qZA(),e.TgZ(3,"a",1),e._uU(4," Add "),e.qZA(),e.qZA(),e.YNc(5,b,2,0,"div",2),e.ALo(6,"async"),e.YNc(7,N,12,3,"div",3),e.ALo(8,"async")),2&i){let l;e.xp6(5),e.Q6J("ngIf",!e.lcZ(6,2,n.data$).length),e.xp6(2),e.Q6J("ngIf",null==(l=e.lcZ(8,4,n.data$))?null:l.length)}},directives:[d.yS,u.O5,h.G,u.sg],pipes:[u.Ov],styles:[""]}),t})();var F=a(8002),S=a(6215),O=a(9112),q=a(8627),s=(()=>{return(t=s||(s={})).Bishopric="bishopric",t.EldersQuorum="elders-quorum",t.ReliefSociety="relief-society",t.AaronicPriesthoodQuorums="aaronic-priesthood-quorums",t.YoungWomen="young-women",t.SundaySchool="sunday-school",t.Primary="primary",t.WardMissionaries="ward-missionaries",t.FullTimeMissionaries="full-time-missionaries",t.TempleAndFamilyHistory="temple-and-family-history",t.OtherCallings="other-callings",s;var t})();const k={callingName:{defaultValue:"",name:"callingName",placeholder:"Name",required:!0,type:q.o.Text,cssClass:"form-control"},callingOrganization:{defaultValue:"",name:"callingOrganization",required:!0,cssClass:"form-control",options:[{key:"Bishopric",value:s.Bishopric},{key:"Elders Quorum",value:s.EldersQuorum},{key:"Relief Society",value:s.ReliefSociety},{key:"Aaronic Priesthood Quorums",value:s.AaronicPriesthoodQuorums},{key:"Young Women",value:s.YoungWomen},{key:"Sunday School",value:s.SundaySchool},{key:"Primary",value:s.Primary},{key:"Ward Missionaries",value:s.WardMissionaries},{key:"Full-time Missionaries",value:s.FullTimeMissionaries},{key:"Temple and Family History",value:s.TempleAndFamilyHistory},{key:"Other Callings",value:s.OtherCallings}],firstOptionLabel:"Select an Organization"}};var r=a(665),J=a(8213);function L(t,o){if(1&t&&(e.TgZ(0,"label",5),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.s9C("for",i.formItem.name),e.xp6(1),e.hij(" ",i.formItem.label," ")}}function x(t,o){if(1&t&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&t){const i=o.$implicit;e.Q6J("ngValue",i.value),e.xp6(1),e.hij(" ",i.key," ")}}let G=(()=>{class t{constructor(){this.isReady=new e.vpe(!1)}ngOnInit(){const i=[];this.formItem.required&&i.push(r.kI.required),this.control=new r.NI(this.formItem.defaultValue,i),this.formGroup.addControl(this.formItem.name,this.control),this.isReady.emit(!0)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["lehi41-mmi-select"]],inputs:{formItem:"formItem",formGroup:"formGroup"},outputs:{isReady:"isReady"},decls:6,vars:9,consts:[[3,"formGroup"],[3,"for",4,"ngIf"],[3,"id","className","formControlName"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"for"],[3,"ngValue"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,L,2,2,"label",1),e.TgZ(2,"select",2),e.TgZ(3,"option",3),e._uU(4),e.qZA(),e.YNc(5,x,2,2,"option",4),e.qZA(),e.qZA()),2&i&&(e.ekj("disabled",n.formItem.disabled),e.Q6J("formGroup",n.formGroup),e.xp6(1),e.Q6J("ngIf",n.formItem.label),e.xp6(1),e.Q6J("id",n.formItem.name)("className",n.formItem.cssClass)("formControlName",n.formItem.name),e.xp6(2),e.Oqu(n.formItem.firstOptionLabel),e.xp6(1),e.Q6J("ngForOf",n.formItem.options))},directives:[r.JL,r.sg,u.O5,r.EJ,r.JJ,r.u,r.YN,r.Kr,u.sg],encapsulation:2}),t})();function R(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(i),e.oxw().delete()}),e._uU(1," Delete "),e.qZA()}}function Y(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,"Update"),e.qZA())}function Q(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,"Create"),e.qZA())}let y=(()=>{class t extends g._{constructor(i,n,l,m,v){super(i,n),this.route=i,this.router=n,this.callingsApiService=l,this.fb=m,this.cd=v,this.formIsReady$=new S.X(!1),this.daForm=k,this.formGroup=this.fb.group({});const E=(0,O.aj)([this.pageInfo$,this.callingsApiService.data$,this.formIsReady$]).pipe((0,F.U)(c=>{const C=c[0];let I;return C.params.has("id")&&(this.itemId=parseInt(C.params.get("id"))),this.itemId&&(I=c[1].find(j=>j.id===this.itemId)),{calling:I,formIsReady:c[2]}})).subscribe(c=>{c.calling&&c.formIsReady&&(this.formGroup.controls[this.daForm.callingName.name].setValue(c.calling.name),this.formGroup.controls[this.daForm.callingOrganization.name].setValue(c.calling.organization))});this.subscriptions.push(E)}ngOnDestroy(){this.onDestroy()}submit(){this.itemId?this.updateCalling():this.createCalling()}createCalling(){this.callingsApiService.createItem({name:this.formGroup.controls[this.daForm.callingName.name].value,organization:this.formGroup.controls[this.daForm.callingOrganization.name].value}).then(()=>{this.cd.detectChanges(),this.callingsApiService.refreshData(),this.router.navigate(["/admin/callings"])})}updateCalling(){this.callingsApiService.updateItem(this.itemId,{name:this.formGroup.controls[this.daForm.callingName.name].value,organization:this.formGroup.controls[this.daForm.callingOrganization.name].value}).then(()=>{this.cd.detectChanges(),this.callingsApiService.refreshData(),this.router.navigate(["/admin/callings"])})}delete(){this.callingsApiService.deleteItem(this.itemId).then(()=>this.cd.detectChanges())}isReady(i,n){this.daForm[i].isReady=n;let l=!0;Object.keys(this.daForm).forEach(m=>{this.daForm[m].isReady||(l=!1)}),this.formIsReady$.next(l)}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(f),e.Y36(r.qu),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["lehi41-callings-new-or-edit"]],features:[e.qOj],decls:15,vars:16,consts:[[1,"d-flex","mb-3","justify-content-between","align-items-center"],["routerLink","/admin/callings","type","button",1,"btn","btn-sm","btn-outline-primary"],[1,"form-group","mb-3"],[3,"formGroup","formItem","isReady"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3"),e._uU(2,"New Calling"),e.qZA(),e.TgZ(3,"a",1),e._uU(4," Back "),e.qZA(),e.qZA(),e.ynx(5),e.TgZ(6,"div",2),e.TgZ(7,"lehi41-mmi-input",3),e.NdJ("isReady",function(m){return n.isReady(n.daForm.callingName.name,m)}),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"lehi41-mmi-select",3),e.NdJ("isReady",function(m){return n.isReady(n.daForm.callingOrganization.name,m)}),e.qZA(),e.qZA(),e.TgZ(10,"div"),e.YNc(11,R,2,0,"button",4),e.TgZ(12,"button",5),e.NdJ("click",function(){return n.submit()}),e.YNc(13,Y,2,0,"span",6),e.YNc(14,Q,2,0,"span",6),e.qZA(),e.qZA(),e.BQk()),2&i&&(e.xp6(7),e.Q6J("formGroup",n.formGroup)("formItem",n.daForm.callingName),e.xp6(2),e.Q6J("formGroup",n.formGroup)("formItem",n.daForm.callingOrganization),e.xp6(1),e.ekj("text-right",!n.itemId)("d-flex",n.itemId)("justify-content-between",n.itemId),e.xp6(1),e.Q6J("ngIf",n.itemId),e.xp6(1),e.ekj("disabled","INVALID"===n.formGroup.status),e.Q6J("disabled","INVALID"===n.formGroup.status),e.xp6(1),e.Q6J("ngIf",n.itemId),e.xp6(1),e.Q6J("ngIf",!n.itemId))},directives:[d.yS,J.P,r.JL,r.sg,G,u.O5],encapsulation:2}),t})();var w=a(1886);const M=[{path:"",component:_},{path:"new",component:y},{path:"edit/:id",component:y}];let U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,d.Bz.forChild(M),h.T,w.q]]}),t})()}}]);